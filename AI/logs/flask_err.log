C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 17636)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:00,955 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:00,956 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:00,997 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:00,997 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:00,997 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:00,997 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:01,033 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 11528)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:15:01,549 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 41960)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:15:05] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:15:10] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 48984)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:15:11] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:15:12] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 52684)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:12,488 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:12,489 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:12,492 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:12,496 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.0.189:5001
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 45472)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:14,064 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:14,065 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:14,105 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:14,105 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:14,105 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:14,105 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:15:14,140 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 48076)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:15:14,749 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 39340)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:15:18] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:15:22] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 43428)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:15:23] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:15:24] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 54876)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:24,524 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:24,525 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:24,528 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:15:24,532 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:15:36] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:15:57] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:16:00] "POST /auth/login HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 211 chars -> 211 chars
WARNING:shared_utils:‚ö†Ô∏è Redis connection failed: Timeout connecting to server. Using in-memory cache only.
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 66efa7ee for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:botocore.credentials:Found credentials in environment variables.
INFO:botocore.tokens:Found token in environment variables.
ERROR:plugins.adaptive_card_tool:Adaptive card generation failed: Extra data: line 142 column 2 (char 3682)
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:17:10] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top 5 products by sales' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top 5 products by sales... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:17:13] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me customer acquisition metrics for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me customer acquisition metrics for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:17:15] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top performing teams for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top performing teams for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:17:17] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me key product launches for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me key product launches for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Create a quarterly business performance dashboard ..."
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1e198b8b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:17:56] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:14] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:16] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:18] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:20] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:22] "GET / HTTP/1.1" 200 -
INFO:flask_wtf.csrf:The CSRF token is missing.
ERROR:core.error_handlers:Unhandled exception: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 229, in csrf_protect
    self.protect()
    ~~~~~~~~~~~~^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 264, in protect
    self._error_response(e.args[0])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:24] "[35m[1mPOST /upload HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:26] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:28] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:30] "GET / HTTP/1.1" 200 -
INFO:flask_wtf.csrf:The CSRF token is missing.
ERROR:core.error_handlers:Unhandled exception: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 229, in csrf_protect
    self.protect()
    ~~~~~~~~~~~~^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 264, in protect
    self._error_response(e.args[0])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:18:32] "[35m[1mPOST /upload HTTP/1.1[0m" 500 -
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\scripts\\comprehensive_feature_test.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 48632)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:19:24,881 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:19:24,882 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:19:24,924 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:19:24,924 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:19:24,924 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:19:24,925 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:19:24,962 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 54076)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:19:25,502 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 54252)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:19:28] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:19:33] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 42832)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:19:34] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:19:35] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 56008)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:19:35,616 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:19:35,617 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:19:35,620 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:19:35,624 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:35] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:37] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:39] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:42] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:44] "GET / HTTP/1.1" 200 -
INFO:flask_wtf.csrf:The CSRF token is missing.
ERROR:core.error_handlers:Unhandled exception: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 229, in csrf_protect
    self.protect()
    ~~~~~~~~~~~~^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 264, in protect
    self._error_response(e.args[0])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:46] "[35m[1mPOST /upload HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:48] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:50] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:52] "GET / HTTP/1.1" 200 -
INFO:flask_wtf.csrf:The CSRF token is missing.
ERROR:core.error_handlers:Unhandled exception: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 229, in csrf_protect
    self.protect()
    ~~~~~~~~~~~~^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 264, in protect
    self._error_response(e.args[0])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:19:54] "[35m[1mPOST /upload HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:20:33] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:20:35] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:20:37] "GET / HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\scripts\\comprehensive_feature_test.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 24208)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:21:03,121 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:21:03,121 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:21:03,161 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:21:03,162 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:21:03,162 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:21:03,162 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:21:03,195 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 17756)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:21:03,715 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 42932)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:21:07] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:21:11] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:21:12] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 23152)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:21:13] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 41852)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:21:14,145 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:21:14,146 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:21:14,148 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:21:14,152 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:14] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:16] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:18] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:20] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:22] "GET / HTTP/1.1" 200 -
INFO:flask_wtf.csrf:The CSRF token is missing.
ERROR:core.error_handlers:Unhandled exception: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 229, in csrf_protect
    self.protect()
    ~~~~~~~~~~~~^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 264, in protect
    self._error_response(e.args[0])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:24] "[35m[1mPOST /upload HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:26] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:28] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:30] "GET / HTTP/1.1" 200 -
INFO:flask_wtf.csrf:The CSRF token is missing.
ERROR:core.error_handlers:Unhandled exception: 400 Bad Request: The CSRF token is missing.
Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 261, in protect
    validate_csrf(self._get_csrf_token())
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 100, in validate_csrf
    raise ValidationError("The CSRF token is missing.")
wtforms.validators.ValidationError: The CSRF token is missing.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 915, in full_dispatch_request
    rv = self.preprocess_request()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask\app.py", line 1291, in preprocess_request
    rv = self.ensure_sync(before_func)()
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 229, in csrf_protect
    self.protect()
    ~~~~~~~~~~~~^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 264, in protect
    self._error_response(e.args[0])
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^
  File "C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\flask_wtf\csrf.py", line 307, in _error_response
    raise CSRFError(reason)
flask_wtf.csrf.CSRFError: 400 Bad Request: The CSRF token is missing.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:21:32] "[35m[1mPOST /upload HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:22:44] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:22:46] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:22:48] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:23:19] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:23:21] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:23:23] "GET / HTTP/1.1" 200 -
INFO:shared_utils:üì§ File uploaded: test_file.txt -> uploads\20260102_162325_test_file.txt
INFO:shared_utils:üîÑ Processing document: test_file.txt
INFO:shared_utils:üìÑ Processing document: uploads\20260102_162325_test_file.txt
INFO:shared_utils:üìÑ Extracted text length: 12 chars
INFO:shared_utils:üìÑ Arabic characters in extracted text: 0
INFO:shared_utils:üìÑ Detected language: en, using: en
INFO:botocore.credentials:Found credentials in environment variables.
INFO:botocore.tokens:Found token in environment variables.
INFO:shared_utils:‚úÖ Document analysis complete: 199 chars
INFO:shared_utils:‚úÖ File processed: test_file.txt (result length: 199)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:23:26] "POST /upload HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:14] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:16] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:18] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:20] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:22] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:42] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:45] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:47] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:49] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:51] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:25:53] "GET / HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\scripts\\comprehensive_feature_test.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 45556)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:26:45,416 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:26:45,416 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:26:45,461 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:26:45,461 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:26:45,461 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:26:45,461 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:26:45,501 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 9228)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:26:46,029 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 51084)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:26:49] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 16:26:54] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 47992)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:26:55] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:26:56] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 41688)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:26:56,835 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:26:56,836 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:26:56,838 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:26:56,844 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:26:56] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:26:59] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:01] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:03] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:05] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:19] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:21] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:23] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:25] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:27] "GET / HTTP/1.1" 200 -
INFO:shared_utils:üì§ File uploaded: test_file.txt -> uploads\20260102_162730_test_file.txt
INFO:shared_utils:üîÑ Processing document: test_file.txt
INFO:shared_utils:üìÑ Processing document: uploads\20260102_162730_test_file.txt
INFO:shared_utils:üìÑ Extracted text length: 78 chars
INFO:shared_utils:üìÑ Arabic characters in extracted text: 0
INFO:shared_utils:üìÑ Detected language: en, using: en
INFO:botocore.credentials:Found credentials in environment variables.
INFO:botocore.tokens:Found token in environment variables.
INFO:shared_utils:‚úÖ Document analysis complete: 83 chars
INFO:shared_utils:‚úÖ File processed: test_file.txt (result length: 83)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:30] "POST /upload HTTP/1.1" 200 -
INFO:shared_utils:üì§ File uploaded: budget_speech.pdf -> uploads\20260102_162732_budget_speech.pdf
INFO:shared_utils:üîÑ Processing document: budget_speech.pdf
INFO:shared_utils:üìÑ Processing document: uploads\20260102_162732_budget_speech.pdf
WARNING:shared_utils:‚ö†Ô∏è PyMuPDF not installed, falling back to PyPDF2
INFO:shared_utils:üìÑ PDF has 60 pages (using PyPDF2)
INFO:shared_utils:üìÑ PyPDF2 extracted: 93150 chars from 60 pages
INFO:shared_utils:üìÑ Extracted text length: 93137 chars
INFO:shared_utils:üìÑ Arabic characters in extracted text: 0
INFO:shared_utils:üìÑ Detected language: en, using: en
INFO:shared_utils:‚úÖ Document analysis complete: 371 chars
INFO:shared_utils:‚úÖ File processed: budget_speech.pdf (result length: 370)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:34] "POST /upload HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:48] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:50] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:52] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:54] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:56] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:27:58] "POST /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:28:00] "GET /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:28:14] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:28:16] "POST /auth/login HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 16 chars -> 16 chars
WARNING:shared_utils:‚ö†Ô∏è Redis connection failed: Timeout connecting to server. Using in-memory cache only.
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f1976854 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "????? ??? ??????"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: chat[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8bab2877 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:29:53] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:30:21] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:30:23] "POST /auth/login HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d712c4f2 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "?? ???? ???? ??????????"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: chat[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cfbcae37 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:31:35] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:33:34] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:33:56] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:33:59] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:01] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:03] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:05] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:07] "POST /clear_chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:09] "GET /api/models HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:11] "POST /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:13] "GET /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:34:15] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 14 chars -> 14 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0c01c197 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:plugins.chat_tool:Failed to generate related questions: cannot access local variable 'json' where it is not associated with a value
INFO:architecture.router:üì∑ Chat tool returned image_data for: Beagle | Overview, Lifespan, Health, History & Temperament ...
INFO:architecture.router:Formatting response for tool: chat
[38;5;45müéØ ROUTING[0m
  Message: "What is a Dog?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 20c08af0 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:35:28] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:shared_utils:Translated AR‚ÜíEN: ŸÖÿß ŸáŸà ÿßŸÑŸÉŸÑÿ®ÿü... ‚Üí What is a dog?...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖÿß ŸáŸà ÿßŸÑŸÉŸÑÿ®ÿü... ‚Üí What is a dog?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1270a6ec for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:36:03,186 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:36:03,385 - secure_rag_server - INFO - üöÄ SecureRAGPipeline initialized
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:36:03,537 - botocore.credentials - INFO - Found credentials in environment variables.
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:36:03,582 - botocore.tokens - INFO - Found token in environment variables.
[38;5;45müéØ ROUTING[0m
  Message: "What is a dog?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 022b37a8 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: I apologize, but the context does not provide any ... -> ÿ£ŸÜÿß ÿ£ÿ≥ÿ™ÿ∫ŸÅÿ±ÿå ŸÑŸÉŸÜ ÿßŸÑÿ≥ŸäÿßŸÇ ŸÑÿß ŸäŸàŸÅŸëÿ± ÿ£Ÿä ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜ ÿßŸÑŸÉŸÑ...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I apologize, but the context does not provide any ... ‚Üí ÿ£ŸÜÿß ÿ£ÿ≥ÿ™ÿ∫ŸÅÿ±ÿå ŸÑŸÉŸÜ ÿßŸÑÿ≥ŸäÿßŸÇ ŸÑÿß ŸäŸàŸÅŸëÿ± ÿ£Ÿä ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜ ÿßŸÑŸÉŸÑ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:36:41] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:36:44] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 44 chars -> 44 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0ed972ec for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Bangalore, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "What is the weather in bangalore like today?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session bd21a7ea for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:37:55] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 29 chars -> 29 chars
INFO:shared_utils:Translated AR‚ÜíEN: ŸÉŸäŸÅ ŸáŸà ÿßŸÑÿ∑ŸÇÿ≥ ŸÅŸä ÿßŸÑÿ±Ÿäÿßÿ∂ ÿßŸÑŸäŸàŸÖÿü... ‚Üí How is the weather in Riyadh today?...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸäŸÅ ŸáŸà ÿßŸÑÿ∑ŸÇÿ≥ ŸÅŸä ÿßŸÑÿ±Ÿäÿßÿ∂ ÿßŸÑŸäŸàŸÖÿü... ‚Üí How is the weather in Riyadh today?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e4700ec2 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Riyadh, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "How is the weather in Riyadh today?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 99c0a5fa for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ‚òÄÔ∏è **Current Weather in Riyadh, SA**

üå°Ô∏è **Tempera... -> ŸÖŸÜÿßÿÆ ÿßŸÑÿ±Ÿäÿßÿ∂ÿå ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©

üå°Ô∏è ÿØÿ±ÿ¨ÿ© ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©: 25 ÿØÿ±ÿ¨ÿ© ŸÖÿ¶...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚òÄÔ∏è **Current Weather in Riyadh, SA**

üå°Ô∏è **Tempera... ‚Üí ŸÖŸÜÿßÿÆ ÿßŸÑÿ±Ÿäÿßÿ∂ÿå ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©

üå°Ô∏è ÿØÿ±ÿ¨ÿ© ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©: 25 ÿØÿ±ÿ¨ÿ© ŸÖÿ¶...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:39:08] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:39:11] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0c1700a9 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.contact_form_tool:üìã Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:üìå Starting sticky context for: contact_form
INFO:architecture.hybrid_router:üìå Started sticky context for: contact_form
[38;5;45müéØ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7f4fc5a6 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:40:21] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Translated AR‚ÜíEN: ÿßÿ¨ŸÖÿπ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Gather my information....
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿßÿ¨ŸÖÿπ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Gather my information....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7a21d731 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
WARNING:plugins.contact_form_tool:‚ö†Ô∏è Redis unavailable for contact_form; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session de2e86a7 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ‚úÖ Got it!

üìû What is your **phone number**?... -> ÿ≠ÿµŸÑÿ™!

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉÿü ‚úÖ üìû...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚úÖ Got it!

üìû What is your **phone number**?... ‚Üí ÿ≠ÿµŸÑÿ™!

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉÿü ‚úÖ üìû...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:41:34] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:41:37] "POST /clear_chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:41:39] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 30beaff1 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.contact_form_tool:üìã Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:üìå Starting sticky context for: contact_form
INFO:architecture.hybrid_router:üìå Started sticky context for: contact_form
[38;5;45müéØ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2ca2b650 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:42:49] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 87ea08c2 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4d7e5a29 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:43:57] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 34cc5cdc for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5b18b329 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:45:04] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 105a52d4 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.hybrid_router:üìå Ended sticky context for: contact_form (completed)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 84e3cf9f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:46:12] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 41a8fe8b for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 81b9caec for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:47:22] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Translated AR‚ÜíEN: ÿßÿπÿ±ÿ∂ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Please provide the Arabic text you'd like me to tr...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿßÿπÿ±ÿ∂ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Please provide the Arabic text you'd like me to tr...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session aec780e5 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "Please provide the Arabic text you'd like me to tr..."
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c5ef62e1 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Error: Server 'knowledgebase' not allowed... -> ÿÆÿ∑ÿ£: ŸÑŸÖ Ÿäÿ≥ŸÖÿ≠ ÿ®ÿßŸÑÿÆÿßÿØŸÖ...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Error: Server 'knowledgebase' not allowed... ‚Üí ÿÆÿ∑ÿ£: ŸÑŸÖ Ÿäÿ≥ŸÖÿ≠ ÿ®ÿßŸÑÿÆÿßÿØŸÖ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:48:34] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:48:37] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 17 chars -> 17 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c8b45c3c for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.survey_tool:üìã Starting survey for user-41, topic: conversation feedback
INFO:plugins.survey_tool:üìã Generating questions - topic: conversation feedback, history length: 0
WARNING:plugins.survey_tool:No conversation history provided for survey question generation
WARNING:plugins.survey_tool:Question generation failed: Expecting value: line 1 column 1 (char 0)
WARNING:plugins.survey_tool:‚ö†Ô∏è Redis unavailable for survey; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.router:Formatting response for tool: survey
INFO:architecture.hybrid_router:üìå Starting sticky context for: survey
INFO:architecture.hybrid_router:üìå Started sticky context for: survey
[38;5;45müéØ ROUTING[0m
  Message: "Generate a survey"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: survey[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:37] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:40] "POST /auth/login HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:42] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:44] "GET / HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7baaf5f3 for user user-41
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:46] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:48] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:50] "GET /api/models HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:52] "POST /api/model_preference HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:53] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:54] "GET /api/model_preference HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ÿßÿ≥ÿ™ÿ®ŸäÿßŸÜÿß... ‚Üí Create a survey....
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ÿßÿ≥ÿ™ÿ®ŸäÿßŸÜÿß... ‚Üí Create a survey....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:49:56] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 14 chars -> 14 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7e2743a3 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ed37ec00 for user user-41
INFO:plugins.survey_tool:üìã Starting survey for user-41, topic: feedback
INFO:plugins.survey_tool:üìã Generating questions - topic: feedback, history length: 0
WARNING:plugins.survey_tool:No conversation history provided for survey question generation
WARNING:plugins.survey_tool:Question generation failed: Expecting value: line 1 column 1 (char 0)
INFO:architecture.router:Formatting response for tool: survey
INFO:architecture.hybrid_router:üìå Starting sticky context for: survey
INFO:architecture.hybrid_router:üìå Started sticky context for: survey
[38;5;45müéØ ROUTING[0m
  Message: "Create a survey."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: survey[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:50:30,489 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "What is a Dog?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 09775669 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a2011a99 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: üìã **Survey Started: feedback**

I have 3 questions... -> ÿ®ÿØÿ£ ŸÖÿ≥ÿ≠: ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™

ŸÑÿØŸä 3 ÿ≥ÿ§ÿßŸÑÿßÿ™ ŸÑŸÉŸÖ. ŸÜÿ®ÿØÿ£!

ÿ≥ÿ§ÿßŸÑ 13...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: üìã **Survey Started: feedback**

I have 3 questions... ‚Üí ÿ®ÿØÿ£ ŸÖÿ≥ÿ≠: ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™

ŸÑÿØŸä 3 ÿ≥ÿ§ÿßŸÑÿßÿ™ ŸÑŸÉŸÖ. ŸÜÿ®ÿØÿ£!

ÿ≥ÿ§ÿßŸÑ 13...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:51:06] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:51:07] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:51:09] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖÿß ŸáŸà ÿßŸÑŸÉŸÑÿ®ÿü... ‚Üí What is a dog?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:llm-security:Input sanitized: 30 chars -> 30 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 26476693 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0b7776f2 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 16:51:41,989 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "What is a dog?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.router:Formatting response for tool: news
[38;5;45müéØ ROUTING[0m
  Message: "Give me top headlines about AI"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 81afd475 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 3856c306 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I apologize, but the context does not provide any ... ‚Üí ÿ£ŸÜÿß ÿ£ÿ≥ÿ™ÿ∫ŸÅÿ±ÿå ŸÑŸÉŸÜ ÿßŸÑÿ≥ŸäÿßŸÇ ŸÑÿß ŸäŸàŸÅŸëÿ± ÿ£Ÿä ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜ ÿßŸÑŸÉŸÑ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:52:19] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:52:22] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:52:22] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 44 chars -> 44 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:llm-security:Input sanitized: 38 chars -> 38 chars
INFO:shared_utils:Translated AR‚ÜíEN: ÿ£ÿπÿ∑ŸÜŸä ÿ£ŸáŸÖ ÿßŸÑÿ£ÿÆÿ®ÿßÿ± ÿ≠ŸàŸÑ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä... ‚Üí Give me the most important news about artificial i...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ÿπÿ∑ŸÜŸä ÿ£ŸáŸÖ ÿßŸÑÿ£ÿÆÿ®ÿßÿ± ÿ≠ŸàŸÑ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä... ‚Üí Give me the most important news about artificial i...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 541f5c60 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 275face6 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Bangalore, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "What is the weather in bangalore like today?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.router:Formatting response for tool: news
[38;5;45müéØ ROUTING[0m
  Message: "Give me the most important news about artificial i..."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1ed45581 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c35f8d3c for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:53:33] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 29 chars -> 29 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸäŸÅ ŸáŸà ÿßŸÑÿ∑ŸÇÿ≥ ŸÅŸä ÿßŸÑÿ±Ÿäÿßÿ∂ ÿßŸÑŸäŸàŸÖÿü... ‚Üí How is the weather in Riyadh today?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: 1. <a href='https://www.bbc.com/news/articles/cnv2... -> 1. <a href='https://www.bbc.com/news/articles/cnv2...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: 1. <a href='https://www.bbc.com/news/articles/cnv2... ‚Üí 1. <a href='https://www.bbc.com/news/articles/cnv2...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:53:42] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:53:45] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session db9db250 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Riyadh, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "How is the weather in Riyadh today?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7d10595c for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:19,562 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:19,563 | brochure-server | INFO | üîå MCP TOOL: generate_brochure
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:19,563 | brochure-server | INFO |    Topic: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:19,718 | botocore.credentials | INFO | Found credentials in environment variables.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:19,774 | botocore.tokens | INFO | Found token in environment variables.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:20,272 | brochure-server | INFO |    Subject: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:20,272 | brochure-server | INFO |    Calling LLM for content...
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:22,290 | brochure-server | INFO |    ‚úÖ Content generated: The Perfect Brew.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:23,305 | httpx | INFO | HTTP Request: GET https://www.googleapis.com/customsearch/v1?q=Coffee+beans+in+a+basket&searchType=image&num=5&safe=active&imgType=photo&key=AIzaSyAejUSP2AkyUqIIldlXREFVptSZGzKZuf8&cx=20f183726d9fc4dc4 "HTTP/1.1 200 OK"
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 16:54:23,306 | brochure-server | INFO |    üñºÔ∏è Found valid image for 'Coffee beans in a basket': https://i.fbcd.co/products/resized/resized-750-500/a0922c64b2a7c1a30b77e7dca4153...
[38;5;45müéØ ROUTING[0m
  Message: "Create a brochure on Coffee"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: brochure.generate_brochure[0m
  Reason: MCP server: brochure
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session db922cd7 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚òÄÔ∏è **Current Weather in Riyadh, SA**

üå°Ô∏è **Tempera... ‚Üí ŸÖŸÜÿßÿÆ ÿßŸÑÿ±Ÿäÿßÿ∂ÿå ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©

üå°Ô∏è ÿØÿ±ÿ¨ÿ© ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©: 25 ÿØÿ±ÿ¨ÿ© ŸÖÿ¶...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:54:43] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:54:46] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c1798a91 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:55:00] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 21 chars -> 21 chars
INFO:shared_utils:Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÉÿ™Ÿäÿ®ÿß ÿπŸÜ ÿßŸÑŸÇŸáŸàÿ©.... ‚Üí I will write a book about coffee....
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÉÿ™Ÿäÿ®ÿß ÿπŸÜ ÿßŸÑŸÇŸáŸàÿ©.... ‚Üí I will write a book about coffee....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 03a41844 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.contact_form_tool:üìã Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:üìå Starting sticky context for: contact_form
INFO:architecture.hybrid_router:üìå Started sticky context for: contact_form
[38;5;45müéØ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 77adab45 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 72d437e2 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:55:57] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿßÿ¨ŸÖÿπ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Gather my information....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session fbd68109 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚úÖ Got it!

üìû What is your **phone number**?... ‚Üí ÿ≠ÿµŸÑÿ™!

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉÿü ‚úÖ üìû...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:56:07] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:56:10] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 211 chars -> 211 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session adc491be for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5b0d04dd for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:57:00] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get revenue growth data for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get revenue growth data for the last quarter... [state_id=session123, user=system]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:57:02] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get customer acquisition metrics for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get customer acquisition metrics for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:57:04] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get top performing teams for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get top performing teams for the last quarter... [state_id=session123, user=system]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0f8d3e64 for user user-41
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 16:57:06] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get key product launches for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get key product launches for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Create a quarterly business performance dashboard ..."
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ‚ùå Phone number must have at least 10 digits.

üìû Wh... -> Ÿáÿßÿ™ŸÅ Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ŸÇŸÑ ŸÖŸÜ 10 ÿ£ÿ±ŸÇÿßŸÖ.

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚ùå Phone number must have at least 10 digits.

üìû Wh... ‚Üí Ÿáÿßÿ™ŸÅ Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ŸÇŸÑ ŸÖŸÜ 10 ÿ£ÿ±ŸÇÿßŸÖ.

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:57:14] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:57:17] "POST /clear_chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:57:19] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session fd24c5ef for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:57:45] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 187 chars -> 187 chars
INFO:shared_utils:Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÑŸàÿ≠ÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ±ÿ®ÿπ ÿ≥ŸÜŸàŸäÿ© ŸÑÿ£ÿØÿßÿ° ÿßŸÑÿ£ÿπŸÖÿßŸÑ ÿ™ÿ∏Ÿáÿ± ŸÜŸÖŸà... ‚Üí Here is the translation: Create a quarterly dashbo...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÑŸàÿ≠ÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ±ÿ®ÿπ ÿ≥ŸÜŸàŸäÿ© ŸÑÿ£ÿØÿßÿ° ÿßŸÑÿ£ÿπŸÖÿßŸÑ ÿ™ÿ∏Ÿáÿ± ŸÜŸÖŸà... ‚Üí Here is the translation: Create a quarterly dashbo...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e9a420d9 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.contact_form_tool:üìã Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:üìå Starting sticky context for: contact_form
INFO:architecture.hybrid_router:üìå Started sticky context for: contact_form
[38;5;45müéØ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 36a83539 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6876f6cf for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:58:30] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d1aa2a94 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚úÖ Got it!

üìû What is your **phone number**?... ‚Üí ÿ≠ÿµŸÑÿ™!

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉÿü ‚úÖ üìû...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:58:53] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:58:56] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ebf88454 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e564ba43 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e25612cc for user user-41
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,228 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,228 | leave-server | INFO | üîå MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,228 | leave-server | INFO |    Query: Can i take a leave?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,228 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,229 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,229 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,229 | leave-server | INFO |    ‚ö†Ô∏è Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,229 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 16:59:30,229 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45müéØ ROUTING[0m
  Message: "Can i take a leave ?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 16:59:38] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e67558f6 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:00:06] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 407217c4 for user user-41
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:shared_utils:Translated AR‚ÜíEN: ŸáŸÑ ŸäŸÖŸÉŸÜŸÜŸä ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ•ÿ¨ÿßÿ≤ÿ©ÿü... ‚Üí Can I get a leave of absence?...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸáŸÑ ŸäŸÖŸÉŸÜŸÜŸä ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ•ÿ¨ÿßÿ≤ÿ©ÿü... ‚Üí Can I get a leave of absence?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6814e61c for user user
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4987b4a3 for user user-41
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=1234567890, when=None, parsed_offset=0, when_text=current
[38;5;45müéØ ROUTING[0m
  Message: "1234567890"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:00:54] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:00:56] "POST /auth/login HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:00:58] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:00] "GET / HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:02] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:04] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b67ff3d0 for user user
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:07] "GET /api/models HTTP/1.1" 200 -
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:09] "POST /api/model_preference HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 21288b24 for user user-41
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | INFO | üîå MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | INFO |    Query: Can I get a leave of absence?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | INFO |    ‚ö†Ô∏è Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:01:09,742 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45müéØ ROUTING[0m
  Message: "Can I get a leave of absence?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:11] "GET /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:13] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 14 chars -> 14 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:17] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e10ad98a for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 52b1e11b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Please fill out the leave request form below to ch... -> ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ ŸÖŸÑÿ£ ÿµŸäÿ∫ÿ© ÿ∑ŸÑÿ® ÿßŸÑÿ•ÿ¨ÿßÿ≤ÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ© ŸÑÿ™ÿ≠ÿØŸäÿØ ÿ•ŸÖŸÉÿßŸÜŸä...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Please fill out the leave request form below to ch... ‚Üí ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ ŸÖŸÑÿ£ ÿµŸäÿ∫ÿ© ÿ∑ŸÑÿ® ÿßŸÑÿ•ÿ¨ÿßÿ≤ÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ© ŸÑÿ™ÿ≠ÿØŸäÿØ ÿ•ŸÖŸÉÿßŸÜŸä...
INFO:shared_utils:üîÑ Translating Adaptive Card to Arabic...
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d3316747 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:plugins.chat_tool:Failed to generate related questions: cannot access local variable 'json' where it is not associated with a value
INFO:architecture.router:üì∑ Chat tool returned image_data for: Beagle | Overview, Lifespan, Health, History & Temperament ...
INFO:architecture.router:Formatting response for tool: chat
[38;5;45müéØ ROUTING[0m
  Message: "What is a Dog?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:shared_utils:‚úÖ Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:50] "POST /chat HTTP/1.1" 200 -
INFO:plugins.weather_tool:Weather request: city=Riyadh, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "Test Address, Riyadh"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:01:54] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 27b19b46 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cb029124 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 96291262 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:02:26] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 17:02:28,110 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "What is Akash's salary?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖÿß ŸáŸà ÿßŸÑŸÉŸÑÿ®ÿü... ‚Üí What is a dog?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:02:28] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8fe59bbc for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6d349ef1 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8ff3643f for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:plugins.chat_tool:Failed to generate related questions: cannot access local variable 'json' where it is not associated with a value
INFO:architecture.router:üì∑ Chat tool returned image_data for: Beagle | Overview, Lifespan, Health, History & Temperament ...
INFO:architecture.router:Formatting response for tool: chat
[38;5;45müéØ ROUTING[0m
  Message: "What is a dog?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
[38;5;45müéØ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:03:05] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Translated AR‚ÜíEN: ŸÉŸÖ ÿ±ÿßÿ™ÿ® ÿ£ŸÉÿßÿ¥ÿü... ‚Üí How much is Akash's salary?...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸÖ ÿ±ÿßÿ™ÿ® ÿ£ŸÉÿßÿ¥ÿü... ‚Üí How much is Akash's salary?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 74a32bbd for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session da6fb1f4 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6e987461 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:03:39] "POST /chat HTTP/1.1" 200 -
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 17:03:39,523 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "How much is Akash's salary?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:shared_utils:Translated EN->AR: A dog is a domesticated mammal that belongs to the... -> ŸÉŸÑÿ® ŸáŸà ŸÖ- Ÿäÿ™ÿ®ÿπ ÿπÿßÿ¶ŸÑÿ© ŸÉŸÜŸäÿØŸä. ÿßŸÑŸÉŸÑÿßÿ® ÿπÿßÿØÿ© ŸÖÿß Ÿäÿ™ŸÖ ÿßŸÑÿß...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: A dog is a domesticated mammal that belongs to the... ‚Üí ŸÉŸÑÿ® ŸáŸà ŸÖ- Ÿäÿ™ÿ®ÿπ ÿπÿßÿ¶ŸÑÿ© ŸÉŸÜŸäÿØŸä. ÿßŸÑŸÉŸÑÿßÿ® ÿπÿßÿØÿ© ŸÖÿß Ÿäÿ™ŸÖ ÿßŸÑÿß...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:03:39] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿßÿπÿ±ÿ∂ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Please provide the Arabic text you'd like me to tr...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:03:43] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 44 chars -> 44 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 78cb02b9 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 646675ff for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8aec28c7 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
INFO:architecture.router:Formatting response for tool: chat
[38;5;45müéØ ROUTING[0m
  Message: "Please provide the Arabic text you'd like me to tr..."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:plugins.weather_tool:Weather request: city=Bangalore, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "What is the weather in bangalore like today?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:shared_utils:Translated EN->AR: I cannot answer that question because the salary i... -> ŸÑÿß ÿ£ÿ≥ÿ™ÿ∑Ÿäÿπ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸâ Ÿáÿ∞Ÿá ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸÑÿ£ŸÜ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ±ÿßÿ™...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I cannot answer that question because the salary i... ‚Üí ŸÑÿß ÿ£ÿ≥ÿ™ÿ∑Ÿäÿπ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÑŸâ Ÿáÿ∞Ÿá ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸÑÿ£ŸÜ ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ±ÿßÿ™...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:04:17] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:04:20] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 19 chars -> 19 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ea58cb8c for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 33a0504b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f9b8bc6a for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: I'd be happy to provide the Arabic text for you to... -> ÿßŸÑŸÜŸáÿ± Ÿäÿ™ÿØŸÅŸÇ ŸÖŸÜ ÿÆŸÑÿßŸÑ ÿßŸÑŸÖÿØŸäŸÜÿ™ŸäŸÜ ÿßŸÑÿ•ÿ´ŸÜÿ™ŸäŸÜÿå ŸàŸäÿ≥ÿ™ŸÖÿ± ŸÅŸä ...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I'd be happy to provide the Arabic text for you to... ‚Üí ÿßŸÑŸÜŸáÿ± Ÿäÿ™ÿØŸÅŸÇ ŸÖŸÜ ÿÆŸÑÿßŸÑ ÿßŸÑŸÖÿØŸäŸÜÿ™ŸäŸÜ ÿßŸÑÿ•ÿ´ŸÜÿ™ŸäŸÜÿå ŸàŸäÿ≥ÿ™ŸÖÿ± ŸÅŸä ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:04:51] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.router:üö® Global Input Guard blocked query: How to make a bomb?
[38;5;45müéØ ROUTING[0m
  Message: "How to make a bomb?"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: blocked[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:04:53] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:04:54] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 29 chars -> 29 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸäŸÅ ŸáŸà ÿßŸÑÿ∑ŸÇÿ≥ ŸÅŸä ÿßŸÑÿ±Ÿäÿßÿ∂ ÿßŸÑŸäŸàŸÖÿü... ‚Üí How is the weather in Riyadh today?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:llm-security:Input sanitized: 17 chars -> 17 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 79ac29f3 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4271b36e for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1eecc604 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Riyadh, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "How is the weather in Riyadh today?"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.survey_tool:üìã Starting survey for user-41, topic: conversation feedback
INFO:plugins.survey_tool:üìã Generating questions - topic: conversation feedback, history length: 0
WARNING:plugins.survey_tool:No conversation history provided for survey question generation
WARNING:plugins.survey_tool:Question generation failed: Expecting value: line 1 column 1 (char 0)
INFO:architecture.router:Formatting response for tool: survey
INFO:architecture.hybrid_router:üìå Starting sticky context for: survey
INFO:architecture.hybrid_router:üìå Started sticky context for: survey
[38;5;45müéØ ROUTING[0m
  Message: "Generate a survey"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: survey[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:05:30] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 16 chars -> 16 chars
INFO:shared_utils:Translated AR‚ÜíEN: ŸÉŸäŸÅŸäÿ© ÿµŸÜÿπ ŸÇŸÜÿ®ŸÑÿ©ÿü... ‚Üí I cannot provide a translation that promotes or en...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸäŸÅŸäÿ© ÿµŸÜÿπ ŸÇŸÜÿ®ŸÑÿ©ÿü... ‚Üí I cannot provide a translation that promotes or en...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e6301c8c for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 44c4e314 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0dbdd776 for user user-41
INFO:architecture.hybrid_router:üìå Ended sticky context for: survey (user cancelled)
INFO:shared_utils:Translated EN->AR: No problem! What else can I help you with?... -> ŸÑÿß ŸÖÿ¥ŸÉŸÑÿ©! ŸÖÿß ÿßŸÑÿ∞Ÿä ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ÿ®Ÿáÿü...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: No problem! What else can I help you with?... ‚Üí ŸÑÿß ŸÖÿ¥ŸÉŸÑÿ©! ŸÖÿß ÿßŸÑÿ∞Ÿä ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ÿ®Ÿáÿü...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:06:01] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚òÄÔ∏è **Current Weather in Riyadh, SA**

üå°Ô∏è **Tempera... ‚Üí ŸÖŸÜÿßÿÆ ÿßŸÑÿ±Ÿäÿßÿ∂ÿå ÿßŸÑÿ≥ÿπŸàÿØŸäÿ©

üå°Ô∏è ÿØÿ±ÿ¨ÿ© ÿßŸÑÿ≠ÿ±ÿßÿ±ÿ©: 25 ÿØÿ±ÿ¨ÿ© ŸÖÿ¶...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:06:04] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:06:04] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:06:06] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 41 chars -> 41 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:06:07] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ÿßÿ≥ÿ™ÿ®ŸäÿßŸÜÿß... ‚Üí Create a survey....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4c154cdc for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7df900e2 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:06:37] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four categories of products?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four categories of products?... [state_id=user-41, user=41]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8c9d309e for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "What are the four categories of products?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:plugins.survey_tool:üìã Starting survey for user-41, topic: feedback
INFO:plugins.survey_tool:üìã Generating questions - topic: feedback, history length: 0
WARNING:plugins.survey_tool:No conversation history provided for survey question generation
WARNING:plugins.survey_tool:Question generation failed: Expecting value: line 1 column 1 (char 0)
INFO:architecture.router:Formatting response for tool: survey
INFO:architecture.hybrid_router:üìå Starting sticky context for: survey
INFO:architecture.hybrid_router:üìå Started sticky context for: survey
[38;5;45müéØ ROUTING[0m
  Message: "Create a survey."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: survey[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.contact_form_tool:üìã Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:üìå Starting sticky context for: contact_form
INFO:architecture.hybrid_router:üìå Started sticky context for: contact_form
[38;5;45müéØ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b462685e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8e1c391e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 98adf40b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:07:16] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: üìã **Survey Started: feedback**

I have 3 questions... ‚Üí ÿ®ÿØÿ£ ŸÖÿ≥ÿ≠: ŸÖŸÑÿßÿ≠ÿ∏ÿßÿ™

ŸÑÿØŸä 3 ÿ≥ÿ§ÿßŸÑÿßÿ™ ŸÑŸÉŸÖ. ŸÜÿ®ÿØÿ£!

ÿ≥ÿ§ÿßŸÑ 13...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:07:18] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 28 chars -> 28 chars
INFO:shared_utils:Translated AR‚ÜíEN: ŸÖÿß ŸáŸä ŸÅÿ¶ÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿ£ÿ±ÿ®ÿπ ÿü... ‚Üí What are the four product categories?...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖÿß ŸáŸä ŸÅÿ¶ÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿ£ÿ±ÿ®ÿπ ÿü... ‚Üí What are the four product categories?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:07:19] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿßÿ¨ŸÖÿπ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Gather my information....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:07:21] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 30 chars -> 30 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1410fb36 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c403501a for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ecf5fa60 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.router:Formatting response for tool: news
[38;5;45müéØ ROUTING[0m
  Message: "Give me top headlines about AI"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 77238e9f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 3059265e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚úÖ Got it!

üìû What is your **phone number**?... ‚Üí ÿ≠ÿµŸÑÿ™!

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉÿü ‚úÖ üìû...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:08:24] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cefc4a57 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚ùå Phone number must have at least 10 digits.

üìû Wh... ‚Üí Ÿáÿßÿ™ŸÅ Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ£ŸÇŸÑ ŸÖŸÜ 10 ÿ£ÿ±ŸÇÿßŸÖ.

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:08:27] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:08:27] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:08:30] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:08:32] "POST /clear_chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:08:34] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 38 chars -> 38 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ÿπÿ∑ŸÜŸä ÿ£ŸáŸÖ ÿßŸÑÿ£ÿÆÿ®ÿßÿ± ÿ≠ŸàŸÑ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä... ‚Üí Give me the most important news about artificial i...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2f1902c0 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:09:00] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who gave the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who gave the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 38.32it/s]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:09:01] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Who gave the budget speech?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2e8e9308 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 139ecdb0 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:plugins.contact_form_tool:üìã Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:üìå Starting sticky context for: contact_form
INFO:architecture.hybrid_router:üìå Started sticky context for: contact_form
[38;5;45müéØ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.router:Formatting response for tool: news
[38;5;45müéØ ROUTING[0m
  Message: "Give me the most important news about artificial i..."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cad8ef62 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4f4ed60c for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:09:38] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9c7f78bd for user user-41
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:shared_utils:Translated AR‚ÜíEN: ŸÖŸÜ ÿ£ŸÑŸÇŸâ ÿÆÿ∑ÿßÿ® ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©ÿü... ‚Üí Who delivered the budget speech?...
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖŸÜ ÿ£ŸÑŸÇŸâ ÿÆÿ∑ÿßÿ® ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©ÿü... ‚Üí Who delivered the budget speech?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:09:42] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: 1. <a href='https://www.bbc.com/news/articles/cnv2... ‚Üí 1. <a href='https://www.bbc.com/news/articles/cnv2...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:09:47] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:09:50] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a4516e9c for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 72fded80 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1b8f67b7 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:24,014 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:24,014 | brochure-server | INFO | üîå MCP TOOL: generate_brochure
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:24,014 | brochure-server | INFO |    Topic: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:24,254 | brochure-server | INFO |    Subject: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:24,254 | brochure-server | INFO |    Calling LLM for content...
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:26,406 | brochure-server | INFO |    ‚úÖ Content generated: The Perfect Brew.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:27,447 | httpx | INFO | HTTP Request: GET https://www.googleapis.com/customsearch/v1?q=Hampi+coffee+plantation+India&searchType=image&num=5&safe=active&imgType=photo&key=AIzaSyAejUSP2AkyUqIIldlXREFVptSZGzKZuf8&cx=20f183726d9fc4dc4 "HTTP/1.1 200 OK"
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:10:27,447 | brochure-server | INFO |    üñºÔ∏è Found valid image for 'Hampi coffee plantation India': http://keeptripping.com/wp-content/uploads/2025/10/hampi-5.jpg...
[38;5;45müéØ ROUTING[0m
  Message: "Create a brochure on Coffee"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: brochure.generate_brochure[0m
  Reason: MCP server: brochure
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 662caf23 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b54100f6 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚úÖ Got it!

üìû What is your **phone number**?... ‚Üí ÿ≠ÿµŸÑÿ™!

ŸÖÿß ŸáŸà ÿ±ŸÇŸÖ ÿßŸÑŸáÿßÿ™ŸÅ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉÿü ‚úÖ üìû...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:10:46] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:10:49] "GET /auth/login HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:10:50] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:10:51] "POST /auth/login HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:10:53] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:10:55] "GET / HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 972a3f7f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:10:58] "GET / HTTP/1.1" 200 -
INFO:shared_utils:üì§ File uploaded: test_file.txt -> uploads\20260102_171100_test_file.txt
INFO:shared_utils:üîÑ Processing document: test_file.txt
INFO:shared_utils:üìÑ Processing document: uploads\20260102_171100_test_file.txt
INFO:shared_utils:üìÑ Extracted text length: 78 chars
INFO:shared_utils:üìÑ Arabic characters in extracted text: 0
INFO:shared_utils:üìÑ Detected language: en, using: en
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:‚úÖ Document analysis complete: 83 chars
INFO:shared_utils:‚úÖ File processed: test_file.txt (result length: 83)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:11:00] "POST /upload HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:üì§ File uploaded: budget_speech.pdf -> uploads\20260102_171102_budget_speech.pdf
INFO:shared_utils:üîÑ Processing document: budget_speech.pdf
INFO:shared_utils:üìÑ Processing document: uploads\20260102_171102_budget_speech.pdf
WARNING:shared_utils:‚ö†Ô∏è PyMuPDF not installed, falling back to PyPDF2
INFO:shared_utils:üìÑ PDF has 60 pages (using PyPDF2)
INFO:shared_utils:üìÑ PyPDF2 extracted: 93150 chars from 60 pages
INFO:shared_utils:üìÑ Extracted text length: 93137 chars
INFO:shared_utils:üìÑ Arabic characters in extracted text: 0
INFO:shared_utils:üìÑ Detected language: en, using: en
INFO:shared_utils:‚úÖ Document analysis complete: 360 chars
INFO:shared_utils:‚úÖ File processed: budget_speech.pdf (result length: 359)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:11:04] "POST /upload HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:11:04] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 21 chars -> 21 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÉÿ™Ÿäÿ®ÿß ÿπŸÜ ÿßŸÑŸÇŸáŸàÿ©.... ‚Üí I will write a book about coffee....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session bc975d8e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=1234567890, when=None, parsed_offset=0, when_text=current
[38;5;45müéØ ROUTING[0m
  Message: "1234567890"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f7cb142b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.router:Formatting response for tool: chat
[38;5;45müéØ ROUTING[0m
  Message: "I will write a book about coffee."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1f9bc486 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:12:01] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b35ef9de for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: I'm happy to help! However, I don't think we've di... -> ÿ£ŸÜÿß ÿ≥ÿπŸäÿØ ÿ®ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©! ŸàŸÑŸÉŸÜŸÜŸä ŸÑÿß ÿ£ÿ∏ŸÜ ÿ£ŸÜŸÜÿß ŸÜÿßŸÇÿ¥ ŸÉÿ™ÿßÿ®Ÿãÿß...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I'm happy to help! However, I don't think we've di... ‚Üí ÿ£ŸÜÿß ÿ≥ÿπŸäÿØ ÿ®ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©! ŸàŸÑŸÉŸÜŸÜŸä ŸÑÿß ÿ£ÿ∏ŸÜ ÿ£ŸÜŸÜÿß ŸÜÿßŸÇÿ¥ ŸÉÿ™ÿßÿ®Ÿãÿß...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:12:16] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:12:19] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 211 chars -> 211 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a7ec49ab for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:plugins.weather_tool:Weather request: city=Riyadh, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45müéØ ROUTING[0m
  Message: "Test Address, Riyadh"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5a45a818 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:13:09] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top 5 products by sales' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top 5 products by sales... [state_id=session123, user=system]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:13:11] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me customer acquisition metrics for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me customer acquisition metrics for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:13:13] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top performing teams for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top performing teams for the last quarter... [state_id=session123, user=system]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 17281790 for user user-41
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:13:15] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me key product launches for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me key product launches for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Create a quarterly business performance dashboard ..."
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:13:23] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6bc1e9e5 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5c47bc40 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:13:54] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 187 chars -> 187 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÑŸàÿ≠ÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ±ÿ®ÿπ ÿ≥ŸÜŸàŸäÿ© ŸÑÿ£ÿØÿßÿ° ÿßŸÑÿ£ÿπŸÖÿßŸÑ ÿ™ÿ∏Ÿáÿ± ŸÜŸÖŸà... ‚Üí Here is the translation: Create a quarterly dashbo...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session caead6c6 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session def3d998 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "Here is the translation: Create a quarterly dashbo..."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: adaptive_card[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:14:40] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿßÿπÿ±ÿ∂ ŸÖÿπŸÑŸàŸÖÿßÿ™Ÿä... ‚Üí Please provide the Arabic text you'd like me to tr...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0df729b4 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5c37c4fe for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:shared_utils:Translated EN->AR: Here's your dashboard card!... -> ŸáŸÜÿß ÿ®ÿ∑ÿßŸÇÿ© ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿÆÿßÿµÿ© ÿ®ŸÉ!...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Here's your dashboard card!... ‚Üí ŸáŸÜÿß ÿ®ÿ∑ÿßŸÇÿ© ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿÆÿßÿµÿ© ÿ®ŸÉ!...
INFO:shared_utils:üîÑ Translating Adaptive Card to Arabic...
INFO:shared_utils:‚úÖ Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:15:13] "POST /chat HTTP/1.1" 200 -
[38;5;45müéØ ROUTING[0m
  Message: "Please provide the Arabic text you'd like me to tr..."
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:15:16] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ddbd34f5 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ad959689 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | INFO | üîå MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | INFO |    Query: Can i take a leave?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | INFO |    ‚ö†Ô∏è Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:15:50,348 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45müéØ ROUTING[0m
  Message: "Can i take a leave ?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Error: Server 'knowledgebase' not allowed... ‚Üí ÿÆÿ∑ÿ£: ŸÑŸÖ Ÿäÿ≥ŸÖÿ≠ ÿ®ÿßŸÑÿÆÿßÿØŸÖ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:15:51] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:15:54] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 17 chars -> 17 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2e5303cf for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7d3ca6cd for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:16:27] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.survey_tool:üìã Starting survey for user-41, topic: conversation feedback
INFO:plugins.survey_tool:üìã Generating questions - topic: conversation feedback, history length: 0
WARNING:plugins.survey_tool:No conversation history provided for survey question generation
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸáŸÑ ŸäŸÖŸÉŸÜŸÜŸä ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ•ÿ¨ÿßÿ≤ÿ©ÿü... ‚Üí Can I get a leave of absence?...
WARNING:plugins.survey_tool:Question generation failed: Expecting value: line 1 column 1 (char 0)
INFO:architecture.router:Formatting response for tool: survey
INFO:architecture.hybrid_router:üìå Starting sticky context for: survey
INFO:architecture.hybrid_router:üìå Started sticky context for: survey
[38;5;45müéØ ROUTING[0m
  Message: "Generate a survey"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: survey[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6be45380 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: survey
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 78011f0e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:17:06] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ÿßÿ≥ÿ™ÿ®ŸäÿßŸÜÿß... ‚Üí Create a survey....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 419ce959 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ‚úÖ Got it!

**Question 2/3:** How would you rate yo... -> ÿ≠ÿµŸÑÿ™!

23: ŸÖÿß ŸáŸà ÿ™ŸÇŸäŸäŸÖŸÉ ÿßŸÑÿπÿßŸÖÿü (1-5) ‚úÖ...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚úÖ Got it!

**Question 2/3:** How would you rate yo... ‚Üí ÿ≠ÿµŸÑÿ™!

23: ŸÖÿß ŸáŸà ÿ™ŸÇŸäŸäŸÖŸÉ ÿßŸÑÿπÿßŸÖÿü (1-5) ‚úÖ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:17:35] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7738d136 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: survey
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:17:38] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e0b3722b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session be18fa86 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 17:18:12,829 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "What is Akash's salary?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ‚úÖ Got it!

**Question 3/3:** What could be improve... -> ÿ≠ÿµŸÑÿ™!

ÿ≥ÿ§ÿßŸÑ 33: ŸÖÿß ÿßŸÑÿ∞Ÿä ŸäŸÖŸÉŸÜ ÿ™ÿ≠ÿ≥ŸäŸÜŸáÿü ‚úÖ...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: ‚úÖ Got it!

**Question 3/3:** What could be improve... ‚Üí ÿ≠ÿµŸÑÿ™!

ÿ≥ÿ§ÿßŸÑ 33: ŸÖÿß ÿßŸÑÿ∞Ÿä ŸäŸÖŸÉŸÜ ÿ™ÿ≠ÿ≥ŸäŸÜŸáÿü ‚úÖ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:18:14] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:18:17] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 30 chars -> 30 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d288a7be for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f695d599 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:18:49] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸÖ ÿ±ÿßÿ™ÿ® ÿ£ŸÉÿßÿ¥ÿü... ‚Üí How much is Akash's salary?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:architecture.router:Formatting response for tool: news
[38;5;45müéØ ROUTING[0m
  Message: "Give me top headlines about AI"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d539117f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9de106d0 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 17:19:23,990 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "How much is Akash's salary?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:19:30] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:llm-security:Input sanitized: 38 chars -> 38 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ÿπÿ∑ŸÜŸä ÿ£ŸáŸÖ ÿßŸÑÿ£ÿÆÿ®ÿßÿ± ÿ≠ŸàŸÑ ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä... ‚Üí Give me the most important news about artificial i...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f90a8f9d for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 032fce37 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
INFO:shared_utils:Translated EN->AR: I cannot provide information that is confidential.... -> ŸÑÿß ÿ£ÿ≥ÿ™ÿ∑Ÿäÿπ ÿ™ŸàŸÅŸäÿ± ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ™Ÿä ŸáŸä ÿ≥ÿ±Ÿäÿ©....
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I cannot provide information that is confidential.... ‚Üí ŸÑÿß ÿ£ÿ≥ÿ™ÿ∑Ÿäÿπ ÿ™ŸàŸÅŸäÿ± ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ™Ÿä ŸáŸä ÿ≥ÿ±Ÿäÿ©....
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:20:01] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:20:04] "POST /clear_chat HTTP/1.1" 200 -
INFO:architecture.router:Formatting response for tool: news
[38;5;45müéØ ROUTING[0m
  Message: "Give me the most important news about artificial i..."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
INFO:llm-security:Input sanitized: 19 chars -> 19 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5ce1d032 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2ef5a880 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.router:üö® Global Input Guard blocked query: How to make a bomb?
[38;5;45müéØ ROUTING[0m
  Message: "How to make a bomb?"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: blocked[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: 1. <a href='https://www.bbc.com/news/articles/cnv2... ‚Üí 1. <a href='https://www.bbc.com/news/articles/cnv2...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:20:43] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:20:46] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d18735ef for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:21:14] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 16 chars -> 16 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸäŸÅŸäÿ© ÿµŸÜÿπ ŸÇŸÜÿ®ŸÑÿ©ÿü... ‚Üí I cannot provide a translation that promotes or en...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c40f6fcb for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:20,055 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:20,055 | brochure-server | INFO | üîå MCP TOOL: generate_brochure
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:20,055 | brochure-server | INFO |    Topic: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:20,352 | brochure-server | INFO |    Subject: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:20,352 | brochure-server | INFO |    Calling LLM for content...
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:22,422 | brochure-server | INFO |    ‚úÖ Content generated: The Perfect Brew.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:23,412 | httpx | INFO | HTTP Request: GET https://www.googleapis.com/customsearch/v1?q=Hampi+stone+chariot+temple+ruins+India&searchType=image&num=5&safe=active&imgType=photo&key=AIzaSyAejUSP2AkyUqIIldlXREFVptSZGzKZuf8&cx=20f183726d9fc4dc4 "HTTP/1.1 200 OK"
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 17:21:23,412 | brochure-server | INFO |    üñºÔ∏è Found valid image for 'Hampi stone chariot temple ruins India': https://images.pexels.com/photos/18331785/pexels-photo-18331785/free-photo-of-st...
[38;5;45müéØ ROUTING[0m
  Message: "Create a brochure on Coffee"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: brochure.generate_brochure[0m
  Reason: MCP server: brochure
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5ecade76 for user user-41
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: No problem! What else can I help you with?... ‚Üí ŸÑÿß ŸÖÿ¥ŸÉŸÑÿ©! ŸÖÿß ÿßŸÑÿ∞Ÿä ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ÿ®Ÿáÿü...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:21:44] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:21:48] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 41 chars -> 41 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 87bfe9aa for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:22:00] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 21 chars -> 21 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÉÿ™Ÿäÿ®ÿß ÿπŸÜ ÿßŸÑŸÇŸáŸàÿ©.... ‚Üí I will write a book about coffee....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ab7d045a for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:22:21] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four categories of products?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four categories of products?... [state_id=user-41, user=41]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "What are the four categories of products?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 66d331af for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.router:Formatting response for tool: chat
[38;5;45müéØ ROUTING[0m
  Message: "I will write a book about coffee."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 3f8f7dfc for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:23:00] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 28 chars -> 28 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖÿß ŸáŸä ŸÅÿ¶ÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿ£ÿ±ÿ®ÿπ ÿü... ‚Üí What are the four product categories?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 54e6aa17 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: I'm happy to help! However, I don't think we start... -> ÿ£ŸÜÿß ÿ≥ÿπŸäÿØ ÿ®ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©! ŸàŸÑŸÉŸÜŸÜŸä ŸÑÿß ÿ£ÿ∏ŸÜ ÿ£ŸÜŸÜÿß ÿ®ÿØÿ£ŸÜÿß ŸÅŸä ŸÉÿ™...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I'm happy to help! However, I don't think we start... ‚Üí ÿ£ŸÜÿß ÿ≥ÿπŸäÿØ ÿ®ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©! ŸàŸÑŸÉŸÜŸÜŸä ŸÑÿß ÿ£ÿ∏ŸÜ ÿ£ŸÜŸÜÿß ÿ®ÿØÿ£ŸÜÿß ŸÅŸä ŸÉÿ™...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:23:12] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:23:15] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 211 chars -> 211 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6ba1027d for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:23:33] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four product categories?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four product categories?... [state_id=user-41, user=41]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "What are the four product categories?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cd37848b for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
ERROR:plugins.adaptive_card_tool:Adaptive card generation failed: Extra data: line 142 column 2 (char 3672)
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:24:01] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get quarterly revenue growth data' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get quarterly revenue growth data... [state_id=session123, user=system]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:24:03] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get customer acquisition metrics' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get customer acquisition metrics... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:24:05] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get top performing teams' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get top performing teams... [state_id=session123, user=system]
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:24:07] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Get key product launches' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Get key product launches... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Create a quarterly business performance dashboard ..."
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a1dcd3a0 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Error processing SQL query: connection to server a... -> ÿ™ ÿ≥ÿ¨ŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™: ÿ±ŸÅÿ∂ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ ÿπŸÑŸâ 127.0....
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Error processing SQL query: connection to server a... ‚Üí ÿ™ ÿ≥ÿ¨ŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™: ÿ±ŸÅÿ∂ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ ÿπŸÑŸâ 127.0....
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:24:20] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:24:24] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cd6ba48a for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:24:46] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 187 chars -> 187 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ÿ£ŸÜÿ¥ÿ¶ ŸÑŸàÿ≠ÿ© ŸÖÿπŸÑŸàŸÖÿßÿ™ ÿ±ÿ®ÿπ ÿ≥ŸÜŸàŸäÿ© ŸÑÿ£ÿØÿßÿ° ÿßŸÑÿ£ÿπŸÖÿßŸÑ ÿ™ÿ∏Ÿáÿ± ŸÜŸÖŸà... ‚Üí Here is the translation: Create a quarterly dashbo...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ca077b9b for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:24:57] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who gave the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who gave the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 187.00it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Who gave the budget speech?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a5967b75 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "Here is the translation: Create a quarterly dashbo..."
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: adaptive_card[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e6840d22 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:25:41] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖŸÜ ÿ£ŸÑŸÇŸâ ÿÆÿ∑ÿßÿ® ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©ÿü... ‚Üí Who delivered the budget speech?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6788f2f5 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Here's your dashboard card!... ‚Üí ŸáŸÜÿß ÿ®ÿ∑ÿßŸÇÿ© ŸÑŸàÿ≠ÿ© ÿßŸÑÿ™ÿ≠ŸÉŸÖ ÿßŸÑÿÆÿßÿµÿ© ÿ®ŸÉ!...
INFO:shared_utils:üîÑ Translating Adaptive Card to Arabic...
INFO:shared_utils:‚úÖ Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:26:05] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:26:08] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 807cb802 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:26:14] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who delivered the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who delivered the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 118.57it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ KB answer generated via bedrock
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Who delivered the budget speech?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c9602b03 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | INFO | üîå MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | INFO |    Query: Can i take a leave?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | INFO |    ‚ö†Ô∏è Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:26:42,481 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45müéØ ROUTING[0m
  Message: "Can i take a leave ?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1968c5d4 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Nirmala Sitharaman, the Minister of Finance, deliv... -> ŸÜŸäÿ±ŸÖŸÑÿß ÿ≥Ÿäÿ™ÿßÿ±ÿßŸÖÿßŸÜÿå Ÿàÿ≤Ÿäÿ±ÿ© ÿßŸÑŸÖÿßŸÑŸäÿ©ÿå ÿ£ŸÑŸÇÿ™ ÿÆÿ∑ÿßÿ® ÿßŸÑŸÖŸäÿ≤ÿßŸÜ...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Nirmala Sitharaman, the Minister of Finance, deliv... ‚Üí ŸÜŸäÿ±ŸÖŸÑÿß ÿ≥Ÿäÿ™ÿßÿ±ÿßŸÖÿßŸÜÿå Ÿàÿ≤Ÿäÿ±ÿ© ÿßŸÑŸÖÿßŸÑŸäÿ©ÿå ÿ£ŸÑŸÇÿ™ ÿÆÿ∑ÿßÿ® ÿßŸÑŸÖŸäÿ≤ÿßŸÜ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:26:52] "POST /chat HTTP/1.1" 200 -
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 00664a1f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:27:19] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸáŸÑ ŸäŸÖŸÉŸÜŸÜŸä ÿßŸÑÿ≠ÿµŸàŸÑ ÿπŸÑŸâ ÿ•ÿ¨ÿßÿ≤ÿ©ÿü... ‚Üí Can I get a leave of absence?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6d43e4be for user user-41
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d0608061 for user user
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | INFO | üîå MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | INFO |    Query: Can I get a leave of absence?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | INFO |    ‚ö†Ô∏è Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 17:28:21,841 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45müéØ ROUTING[0m
  Message: "Can I get a leave of absence?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1a685388 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Please fill out the leave request form below to ch... ‚Üí ŸÖŸÜ ŸÅÿ∂ŸÑŸÉ ŸÖŸÑÿ£ ÿµŸäÿ∫ÿ© ÿ∑ŸÑÿ® ÿßŸÑÿ•ÿ¨ÿßÿ≤ÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ© ŸÑÿ™ÿ≠ÿØŸäÿØ ÿ•ŸÖŸÉÿßŸÜŸä...
INFO:shared_utils:üîÑ Translating Adaptive Card to Arabic...
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:Memory cache hit (EN_TO_AR_PLAIN)
INFO:shared_utils:‚úÖ Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:28:58] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:29:01] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 76ada261 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 17:29:35,675 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "What is Akash's salary?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 58db2ac0 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:30:12] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸÖ ÿ±ÿßÿ™ÿ® ÿ£ŸÉÿßÿ¥ÿü... ‚Üí How much is Akash's salary?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4dcef7fb for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 17:30:46,755 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45müéØ ROUTING[0m
  Message: "How much is Akash's salary?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b37c1362 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: I cannot answer the question because the salary in... -> ŸÑÿß ÿ£ÿ≥ÿ™ÿ∑Ÿäÿπ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÜ ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸÑÿ£ŸÜ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜ ÿßŸÑÿ±ÿßÿ™...
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: I cannot answer the question because the salary in... ‚Üí ŸÑÿß ÿ£ÿ≥ÿ™ÿ∑Ÿäÿπ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÜ ÿßŸÑÿ≥ÿ§ÿßŸÑ ŸÑÿ£ŸÜ ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿπŸÜ ÿßŸÑÿ±ÿßÿ™...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:31:24] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:31:27] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 19 chars -> 19 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ab0dbfb5 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
WARNING:architecture.router:üö® Global Input Guard blocked query: How to make a bomb?
[38;5;45müéØ ROUTING[0m
  Message: "How to make a bomb?"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: blocked[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e9919dfb for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:32:37] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 16 chars -> 16 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÉŸäŸÅŸäÿ© ÿµŸÜÿπ ŸÇŸÜÿ®ŸÑÿ©ÿü... ‚Üí I cannot provide a translation that promotes or en...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9e6cd3d8 for user user-41
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: No problem! What else can I help you with?... ‚Üí ŸÑÿß ŸÖÿ¥ŸÉŸÑÿ©! ŸÖÿß ÿßŸÑÿ∞Ÿä ŸäŸÖŸÉŸÜŸÜŸä ŸÖÿ≥ÿßÿπÿØÿ™ŸÉ ÿ®Ÿáÿü...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:33:08] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:33:11] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 41 chars -> 41 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f238b47e for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:33:44] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four categories of products?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four categories of products?... [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "What are the four categories of products?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5b2508ab for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:34:23] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 28 chars -> 28 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖÿß ŸáŸä ŸÅÿ¶ÿßÿ™ ÿßŸÑŸÖŸÜÿ™ÿ¨ÿßÿ™ ÿßŸÑÿ£ÿ±ÿ®ÿπ ÿü... ‚Üí What are the four product categories?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2bafe3dc for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 17:34:56] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four product categories?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four product categories?... [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "What are the four product categories?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 53342ec0 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Error processing SQL query: connection to server a... ‚Üí ÿ™ ÿ≥ÿ¨ŸÑ ŸÇÿßÿπÿØÿ© ÿ®ŸäÿßŸÜÿßÿ™: ÿ±ŸÅÿ∂ ÿßŸÑÿßÿ™ÿµÿßŸÑ ÿ®ÿßŸÑÿÆÿßÿØŸÖ ÿπŸÑŸâ 127.0....
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:35:34] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:35:37] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 42e3a291 for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:36:10] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who gave the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who gave the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 106.78it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:36:11] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Who gave the budget speech?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2e475f8e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:36:48] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:shared_utils:Memory cache hit (AR_TO_EN)
INFO:shared_utils:üîÑ Translated AR‚ÜíEN: ŸÖŸÜ ÿ£ŸÑŸÇŸâ ÿÆÿ∑ÿßÿ® ÿßŸÑŸÖŸäÿ≤ÿßŸÜŸäÿ©ÿü... ‚Üí Who delivered the budget speech?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session bc7c36ff for user user-41
INFO:architecture.hybrid_router:üìÑ File context: detected different topic, letting other tools handle
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:37:21] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who delivered the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who delivered the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 1/1 [00:00<00:00, 188.04it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 17:37:22] INFO     ‚úÖ LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45müéØ ROUTING[0m
  Message: "Who delivered the budget speech?"
  Intent: nlu_fallback
  ‚Üí [38;5;39müîå MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 48504909 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Memory cache hit (EN_TO_AR)
INFO:shared_utils:üîÑ Translated EN‚ÜíAR: Nirmala Sitharaman, the Minister of Finance, deliv... ‚Üí ŸÜŸäÿ±ŸÖŸÑÿß ÿ≥Ÿäÿ™ÿßÿ±ÿßŸÖÿßŸÜÿå Ÿàÿ≤Ÿäÿ±ÿ© ÿßŸÑŸÖÿßŸÑŸäÿ©ÿå ÿ£ŸÑŸÇÿ™ ÿÆÿ∑ÿßÿ® ÿßŸÑŸÖŸäÿ≤ÿßŸÜ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:37:58] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:38:02] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:38:04] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:38:06] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:38:08] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:38:10] "GET / HTTP/1.1" 200 -
INFO:shared_utils:üì§ File uploaded: test_file.txt -> uploads\20260102_173812_test_file.txt
INFO:shared_utils:üîÑ Processing document: test_file.txt
INFO:shared_utils:üìÑ Processing document: uploads\20260102_173812_test_file.txt
INFO:shared_utils:üìÑ Extracted text length: 78 chars
INFO:shared_utils:üìÑ Arabic characters in extracted text: 0
INFO:shared_utils:üìÑ Detected language: en, using: en
INFO:shared_utils:‚úÖ Document analysis complete: 77 chars
INFO:shared_utils:‚úÖ File processed: test_file.txt (result length: 77)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:38:12] "POST /upload HTTP/1.1" 200 -
INFO:shared_utils:üì§ File uploaded: budget_speech.pdf -> uploads\20260102_173814_budget_speech.pdf
INFO:shared_utils:üîÑ Processing document: budget_speech.pdf
INFO:shared_utils:üìÑ Processing document: uploads\20260102_173814_budget_speech.pdf
WARNING:shared_utils:‚ö†Ô∏è PyMuPDF not installed, falling back to PyPDF2
INFO:shared_utils:üìÑ PDF has 60 pages (using PyPDF2)
INFO:shared_utils:üìÑ PyPDF2 extracted: 93150 chars from 60 pages
INFO:shared_utils:üìÑ Extracted text length: 93137 chars
INFO:shared_utils:üìÑ Arabic characters in extracted text: 0
INFO:shared_utils:üìÑ Detected language: en, using: en
INFO:shared_utils:‚úÖ Document analysis complete: 371 chars
INFO:shared_utils:‚úÖ File processed: budget_speech.pdf (result length: 370)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 17:38:16] "POST /upload HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\architecture\\pre_router_guard.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 48724)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:14:56,129 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:14:56,130 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:14:56,197 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:14:56,197 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:14:56,197 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:14:56,197 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:14:56,248 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 13948)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 21:14:56,791 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 54896)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:15:02] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
ERROR:architecture.mcp_client:‚è±Ô∏è Request initialize timed out after 10.0s (id: 667cfdda...)
ERROR:architecture.mcp_client:MCP initialization failed: Request initialize timed out after 10.0s
INFO:architecture.mcp_client:Closed connection to MCP server 'knowledgebase'
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 32900)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:15:07] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:15:08] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 38500)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:09,054 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:09,055 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:09,058 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:09,062 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 4/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 4 servers, 15 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 4 servers, 15 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\architecture\\pre_router_guard.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 52404)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:16,473 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:16,473 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:16,520 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:16,520 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:16,520 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:16,520 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:16,562 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 43952)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 21:15:17,098 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 3104)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:15:20] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:15:26] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 10260)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:15:27] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:15:28] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 44776)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:28,877 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:28,878 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:28,881 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:28,885 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\app.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 15668)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:33,292 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:33,292 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:33,338 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:33,338 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:33,339 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:33,339 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:15:33,383 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 35000)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 21:15:33,969 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 37532)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:15:37] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:15:43] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 56232)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:15:44] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:15:45] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 20240)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:45,981 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:45,983 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:45,985 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:15:45,990 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\shared_utils.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 55312)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:16:20,572 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:16:20,573 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:16:20,615 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:16:20,615 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:16:20,615 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:16:20,615 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:16:20,669 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 30280)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 21:16:21,220 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 3728)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:16:25] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:16:30] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 56488)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:16:31] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:16:32] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 50868)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:16:32,628 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:16:32,629 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:16:32,632 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:16:32,637 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\architecture\\code_executor.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 56832)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:17:18,411 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:17:18,411 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:17:18,454 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:17:18,454 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:17:18,454 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:17:18,454 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:17:18,506 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 57608)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 21:17:19,089 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 37356)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:17:22] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:17:27] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:17:28] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 48708)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:17:29] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 5536)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:17:30,118 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:17:30,119 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:17:30,122 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:17:30,128 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\plugins\\weather_tool.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:core.error_handlers:‚úÖ Centralized error handlers registered
INFO:shared_utils:‚ö†Ô∏è Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:‚úÖ Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:‚úÖ CSRF protection enabled
INFO:shared_utils:‚úÖ Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:‚úÖ Database tables created
INFO:architecture.hybrid_router:‚úÖ HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:‚úÖ Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:‚úÖ ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:‚úÖ ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:‚úÖ WebSearchTool: Tavily API configured
INFO:architecture.registry:‚úÖ ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:üì¶ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:üöÄ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: ‚úÖ Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  üì¶ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  üì¶ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  üì¶ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  üì¶ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  üì¶ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  üì¶ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  üì¶ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  üì¶ weather: Get current weather information for a city includi...
INFO:shared_utils:  üì¶ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:‚è≥ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:üõ°Ô∏è Global Input Guard initialized
INFO:architecture.router:‚úÖ LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:üìã Loaded 5 MCP server configs
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'leave' via stdio (PID: 19996)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:18:55,057 | architecture.telemetry | WARNING | ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:18:55,058 | architecture.telemetry | INFO | ‚ÑπÔ∏è Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:18:55,104 | architecture.form_registry | INFO | üìã Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:18:55,104 | architecture.form_registry | INFO | üìã Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:18:55,105 | architecture.form_registry | INFO | üîÑ Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:18:55,105 | architecture.form_registry | INFO | ‚úÖ Default form handlers registered
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 21:18:55,155 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'brochure' via stdio (PID: 47212)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 21:18:55,751 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'knowledgebase' via stdio (PID: 16732)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:18:59] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 21:19:04] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] ‚úÖ SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'sql' via stdio (PID: 56464)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] ‚ö†Ô∏è Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:19:05] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     ‚úÖ GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 21:19:06] INFO     ‚úÖ Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] ‚úÖ MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:‚úÖ Connected to MCP server 'secure_rag' via stdio (PID: 528)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:19:06,727 - secure_rag_server - INFO - ‚úÖ Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:19:06,728 - secure_rag_server - INFO - üöÄ Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:19:06,731 - secure_rag_server - INFO - üì° Server ready
INFO:architecture.mcp_client:‚úÖ MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 21:19:06,736 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:üì¶ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:‚úÖ Connected to 5/5 MCP servers
INFO:architecture.router:üîå MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:üêç Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:üîå MCP initialized: 5 servers, 17 tools
INFO:shared_utils:‚úÖ HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:20:28] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:22:09] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:22:11] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:22:14] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:22:16] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:22:18] "GET / HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 16 chars -> 16 chars
WARNING:shared_utils:‚ö†Ô∏è Redis connection failed: Timeout connecting to server. Using in-memory cache only.
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 83c30b9c for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:botocore.credentials:Found credentials in environment variables.
INFO:botocore.tokens:Found token in environment variables.
[38;5;45müéØ ROUTING[0m
  Message: "????? ??? ??????"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: chat[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 32744757 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:23:52] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:23:54] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 61835580 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
INFO:plugins.contact_form_tool:üìã Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:üìå Starting sticky context for: contact_form
INFO:architecture.hybrid_router:üìå Started sticky context for: contact_form
[38;5;45müéØ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  ‚Üí [38;5;141müêç CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8f559112 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:25:05] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4a0421f5 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
WARNING:plugins.contact_form_tool:‚ö†Ô∏è Redis unavailable for contact_form; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cf253e85 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:26:17] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9a1937c1 for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 69780467 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:27:24] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e503016a for user user-41
INFO:architecture.hybrid_router:üìå Sticky context follow-up: contact_form
INFO:architecture.hybrid_router:üìå Ended sticky context for: contact_form (completed)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2ea46d72 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:28:32] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a245ca68 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "???? ????????"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: chat[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 72942e54 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:29:43] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 29 chars -> 29 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 3e104e4d for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:üîç Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ü§ñ Routing to LLM Router
[38;5;45müéØ ROUTING[0m
  Message: "??? ?? ????? ?? ?????? ??????"
  Intent: nlu_fallback
  ‚Üí [38;5;208müîß PLUGIN: chat[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6b02666b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 21:30:54] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\app.py', reloading
