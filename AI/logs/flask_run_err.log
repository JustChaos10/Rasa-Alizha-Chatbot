C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
\u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:â„¹ï¸ Langfuse not available - telemetry disabled
INFO:core.error_handlers:âœ… Centralized error handlers registered
INFO:shared_utils:âš ï¸ Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:âœ… Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:âœ… CSRF protection enabled
INFO:shared_utils:âœ… Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:âœ… Database tables created
INFO:architecture.hybrid_router:âœ… HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:âœ… Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:âœ… ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:âœ… ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:âœ… WebSearchTool: Tavily API configured
INFO:architecture.registry:âœ… ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:ðŸ“¦ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:ðŸš€ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: âœ… Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  ðŸ“¦ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  ðŸ“¦ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  ðŸ“¦ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  ðŸ“¦ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  ðŸ“¦ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  ðŸ“¦ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  ðŸ“¦ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  ðŸ“¦ weather: Get current weather information for a city includi...
INFO:shared_utils:  ðŸ“¦ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:â³ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:ðŸ›¡ï¸ Global Input Guard initialized
INFO:architecture.router:âœ… LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:ðŸ“‹ Loaded 5 MCP server configs
INFO:architecture.mcp_client:âœ… Connected to MCP server 'leave' via stdio (PID: 54632)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:25,376 | architecture.telemetry | WARNING | \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:25,377 | architecture.telemetry | INFO | \u2139\ufe0f Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:25,422 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:25,423 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:25,423 | architecture.form_registry | INFO | \U0001f504 Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:25,423 | architecture.form_registry | INFO | \u2705 Default form handlers registered
INFO:architecture.mcp_client:âœ… MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:25,461 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'brochure' via stdio (PID: 57100)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:âœ… MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:06:26,014 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'knowledgebase' via stdio (PID: 58336)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:06:29] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:06:33] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:06:34] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'sql' via stdio (PID: 42012)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:06:35] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:06:36] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'secure_rag' via stdio (PID: 14172)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:36,487 - secure_rag_server - INFO - \u2705 Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:36,488 - secure_rag_server - INFO - \U0001f680 Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:36,491 - secure_rag_server - INFO - \U0001f4e1 Server ready
INFO:architecture.mcp_client:âœ… MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:36,496 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:âœ… Connected to 5/5 MCP servers
INFO:architecture.router:ðŸ”Œ MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:ðŸ Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:ðŸ”Œ MCP initialized: 5 servers, 17 tools
INFO:shared_utils:âœ… HybridRouter and MCP servers pre-initialized!
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://192.168.0.189:5001
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
\u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:â„¹ï¸ Langfuse not available - telemetry disabled
INFO:core.error_handlers:âœ… Centralized error handlers registered
INFO:shared_utils:âš ï¸ Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:âœ… Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:âœ… CSRF protection enabled
INFO:shared_utils:âœ… Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:âœ… Database tables created
INFO:architecture.hybrid_router:âœ… HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:âœ… Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:âœ… ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:âœ… ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:âœ… WebSearchTool: Tavily API configured
INFO:architecture.registry:âœ… ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:ðŸ“¦ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:ðŸš€ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: âœ… Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  ðŸ“¦ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  ðŸ“¦ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  ðŸ“¦ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  ðŸ“¦ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  ðŸ“¦ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  ðŸ“¦ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  ðŸ“¦ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  ðŸ“¦ weather: Get current weather information for a city includi...
INFO:shared_utils:  ðŸ“¦ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:â³ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:ðŸ›¡ï¸ Global Input Guard initialized
INFO:architecture.router:âœ… LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:ðŸ“‹ Loaded 5 MCP server configs
INFO:architecture.mcp_client:âœ… Connected to MCP server 'leave' via stdio (PID: 31820)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:38,142 | architecture.telemetry | WARNING | \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:38,142 | architecture.telemetry | INFO | \u2139\ufe0f Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:38,185 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:38,185 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:38,186 | architecture.form_registry | INFO | \U0001f504 Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:38,186 | architecture.form_registry | INFO | \u2705 Default form handlers registered
INFO:architecture.mcp_client:âœ… MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:06:38,236 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'brochure' via stdio (PID: 57140)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:âœ… MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:06:38,878 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'knowledgebase' via stdio (PID: 27948)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:06:42] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:06:47] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'sql' via stdio (PID: 57060)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:06:49] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'secure_rag' via stdio (PID: 51692)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:50,042 - secure_rag_server - INFO - \u2705 Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:50,043 - secure_rag_server - INFO - \U0001f680 Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:50,045 - secure_rag_server - INFO - \U0001f4e1 Server ready
INFO:architecture.mcp_client:âœ… MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:06:50,050 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:âœ… Connected to 5/5 MCP servers
INFO:architecture.router:ðŸ”Œ MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:ðŸ Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:ðŸ”Œ MCP initialized: 5 servers, 17 tools
INFO:shared_utils:âœ… HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:06:50] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:02] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:04] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:07] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:09] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:11] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:13] "POST /clear_chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:15] "GET /api/models HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:17] "POST /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:19] "GET /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:07:21] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 14 chars -> 14 chars
WARNING:shared_utils:âš ï¸ Redis connection failed: Timeout connecting to server. Using in-memory cache only.
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 33389e1c for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:botocore.credentials:Found credentials in environment variables.
INFO:botocore.tokens:Found token in environment variables.
WARNING:plugins.chat_tool:Failed to generate related questions: cannot access local variable 'json' where it is not associated with a value
INFO:architecture.router:ðŸ“· Chat tool returned image_data for: Beagle | Overview, Lifespan, Health, History & Temperament ...
INFO:architecture.router:Formatting response for tool: chat
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is a Dog?"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4620b584 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:08:55] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:shared_utils:Translated ARâ†’EN: Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙ„Ø¨ØŸ... â†’ What is a dog?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙ„Ø¨ØŸ... â†’ What is a dog?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7f2d8426 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:09:30,210 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:09:30,431 - secure_rag_server - INFO - \U0001f680 SecureRAGPipeline initialized
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:09:30,576 - botocore.credentials - INFO - Found credentials in environment variables.
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:09:30,620 - botocore.tokens - INFO - Found token in environment variables.
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is a dog?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 915889e8 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: I apologize, but the context does not provide any ... -> Ø£Ù†Ø§ Ø£Ø³ØªØºÙØ±ØŒ Ù„ÙƒÙ† Ø§Ù„Ø³ÙŠØ§Ù‚ Ù„Ø§ ÙŠÙˆÙÙ‘Ø± Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ÙƒÙ„...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: I apologize, but the context does not provide any ... â†’ Ø£Ù†Ø§ Ø£Ø³ØªØºÙØ±ØŒ Ù„ÙƒÙ† Ø§Ù„Ø³ÙŠØ§Ù‚ Ù„Ø§ ÙŠÙˆÙÙ‘Ø± Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ÙƒÙ„...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:10:09] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:10:12] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 44 chars -> 44 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ae86fb41 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Bangalore, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is the weather in bangalore like today?"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 743a6013 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:11:23] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 29 chars -> 29 chars
INFO:shared_utils:Translated ARâ†’EN: ÙƒÙŠÙ Ù‡Ùˆ Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ Ø§Ù„ÙŠÙˆÙ…ØŸ... â†’ How is the weather in Riyadh today?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: ÙƒÙŠÙ Ù‡Ùˆ Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ Ø§Ù„ÙŠÙˆÙ…ØŸ... â†’ How is the weather in Riyadh today?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0f9f0390 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Riyadh, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "How is the weather in Riyadh today?"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4498ecaa for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: **Current Weather in Riyadh, SA**

**Temperature:*... -> Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©

Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: 20...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: **Current Weather in Riyadh, SA**

**Temperature:*... â†’ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©

Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: 20...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:12:35] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:12:38] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7b5fff5c for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.contact_form_tool:ðŸ“‹ Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: contact_form
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1c639f4c for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:13:49] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø§Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ... â†’ Collect my info...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session fb93ade7 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
WARNING:plugins.contact_form_tool:âš ï¸ Redis unavailable for contact_form; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 809d26bb for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: âœ… Got it!

ðŸ“ž What is your **phone number**?... -> Ø­ØµÙ„Øª!

Ù…Ø§ Ù‡Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒØŸ âœ… ðŸ“ž...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: âœ… Got it!

ðŸ“ž What is your **phone number**?... â†’ Ø­ØµÙ„Øª!

Ù…Ø§ Ù‡Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒØŸ âœ… ðŸ“ž...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:15:01] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:15:04] "POST /clear_chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:15:06] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c99e3613 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.contact_form_tool:ðŸ“‹ Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: contact_form
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 3758111f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:16:17] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 578f9724 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f130d4f4 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:17:24] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e5610f04 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ca3c0f8b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:18:32] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 71dafeb3 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Ended sticky context for: contact_form (completed)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 88af26d8 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:19:39] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f9ee6dd2 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5c1c0396 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:20:50] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø§Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ... â†’ Show my info...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c7482c64 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d8c80222 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ðŸ“‡ Here's your contact information, Test User!... -> Ù‡Ù†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! ðŸ“‡...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: ðŸ“‡ Here's your contact information, Test User!... â†’ Ù‡Ù†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! ðŸ“‡...
INFO:shared_utils:ðŸ”„ Translating Adaptive Card to Arabic...
INFO:shared_utils:âœ… Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:22:03] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:22:06] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 17 chars -> 17 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 83bbfcca for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.survey_tool:ðŸ“‹ Starting survey for user-41, topic: conversation feedback
INFO:plugins.survey_tool:ðŸ“‹ Generating questions - topic: conversation feedback, history length: 0
WARNING:plugins.survey_tool:No conversation history provided for survey question generation
WARNING:plugins.survey_tool:Question generation failed: Expecting value: line 1 column 1 (char 0)
WARNING:plugins.survey_tool:âš ï¸ Redis unavailable for survey; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.router:Formatting response for tool: survey
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: survey
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: survey
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Generate a survey"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: survey[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7b684166 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:23:22] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§... â†’ Generate a survey...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 174a19f4 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: survey
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 79753bef for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: âœ… Got it!

**Question 2/3:** How would you rate yo... -> Ø­ØµÙ„Øª!

23: Ù…Ø§ Ù‡Ùˆ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø§Ù„Ø¹Ø§Ù…ØŸ (1-5) âœ…...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: âœ… Got it!

**Question 2/3:** How would you rate yo... â†’ Ø­ØµÙ„Øª!

23: Ù…Ø§ Ù‡Ùˆ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø§Ù„Ø¹Ø§Ù…ØŸ (1-5) âœ…...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:24:30] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:24:33] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 30 chars -> 30 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d801d84f for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.router:Formatting response for tool: news
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Give me top headlines about AI"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5dc6f8fa for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:25:46] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 38 chars -> 38 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ø¹Ø·Ù†ÙŠ Ø£Ù‡Ù… Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø­ÙˆÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ... â†’ Give me top headlines about AI...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0e7c27c3 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.router:Formatting response for tool: news
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Give me top headlines about AI"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 897c4ab3 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: 1. <a href='https://www.theverge.com/news/844655/g... -> 1. <a href='https://www.theverge.com/news/844655/g...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: 1. <a href='https://www.theverge.com/news/844655/g... â†’ 1. <a href='https://www.theverge.com/news/844655/g...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:27:06] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:27:09] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session fbd1db51 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:43,096 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:43,096 | brochure-server | INFO | \U0001f50c MCP TOOL: generate_brochure
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:43,096 | brochure-server | INFO |    Topic: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:43,259 | botocore.credentials | INFO | Found credentials in environment variables.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:43,318 | botocore.tokens | INFO | Found token in environment variables.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:43,901 | brochure-server | INFO |    Subject: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:43,901 | brochure-server | INFO |    Calling LLM for content...
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:46,099 | brochure-server | INFO |    \u2705 Content generated: Brewing Perfection.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:47,160 | httpx | INFO | HTTP Request: GET https://www.googleapis.com/customsearch/v1?q=Hampi+coffee+plantations+Karnataka+India&searchType=image&num=5&safe=active&imgType=photo&key=AIzaSyAejUSP2AkyUqIIldlXREFVptSZGzKZuf8&cx=20f183726d9fc4dc4 "HTTP/1.1 200 OK"
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:27:47,160 | brochure-server | INFO |    \U0001f5bc\ufe0f Found valid image for 'Hampi coffee plantations Karnataka India': http://keeptripping.com/wp-content/uploads/2025/10/hampi-5.jpg...
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Create a brochure on Coffee"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: brochure.generate_brochure[0m
  Reason: MCP server: brochure
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4e72fb9f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:28:24] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 21 chars -> 21 chars
INFO:shared_utils:Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ ÙƒØªÙŠØ¨Ø§ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ©.... â†’ I will create a book about coffee....
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ ÙƒØªÙŠØ¨Ø§ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ©.... â†’ I will create a book about coffee....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 538cf81e for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.router:Formatting response for tool: chat
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "I will create a book about coffee."
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 908bd660 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: What a delightful idea! I'd love to create a book ... -> Ù…Ø§ Ù‡Ùˆ ÙÙƒØ±Ø© Ø±Ø§Ø¦Ø¹Ø©! Ø£Ø­Ø¨ Ø£Ù† Ø£ ÙƒØªØ§Ø¨Ø§Ù‹ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ© ÙŠØ­Ø­ Ø§Ù„...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: What a delightful idea! I'd love to create a book ... â†’ Ù…Ø§ Ù‡Ùˆ ÙÙƒØ±Ø© Ø±Ø§Ø¦Ø¹Ø©! Ø£Ø­Ø¨ Ø£Ù† Ø£ ÙƒØªØ§Ø¨Ø§Ù‹ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ© ÙŠØ­Ø­ Ø§Ù„...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:29:44] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:29:47] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 211 chars -> 211 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 099b8964 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:30:36] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top 5 products by sales' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top 5 products by sales... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:30:38] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me customer acquisition metrics for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me customer acquisition metrics for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:30:40] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top performing teams for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top performing teams for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:30:42] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me key product launches for the last quarter' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me key product launches for the last quarter... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Create a quarterly business performance dashboard ..."
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7963d965 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:31:21] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 187 chars -> 187 chars
INFO:shared_utils:Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ Ù„ÙˆØ­Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠØ© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ØªØ¸Ù‡Ø± Ù†Ù…Ùˆ... â†’ Here is the translation: Create a quarterly dashbo...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ Ù„ÙˆØ­Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠØ© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ØªØ¸Ù‡Ø± Ù†Ù…Ùˆ... â†’ Here is the translation: Create a quarterly dashbo...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b672c2f4 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:32:06] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top 5 products by sales' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top 5 products by sales... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:32:08] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'What is the budget allocation for education sector?' [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: What is the budget allocation for education sector?... [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00, 32.90it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:32:09] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:32:10] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=session123]: chart=None
INFO:plugins.chat_tool:ðŸ” Web search triggered for: Who won last week's F1 race?...
INFO:plugins.chat_tool:âœ… Web search found 5 results
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Here is the translation: Create a quarterly dashbo..."
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6aae2096 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Here's your dashboard card!... -> Ù‡Ù†Ø§ Ø¨Ø·Ø§Ù‚Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ!...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Here's your dashboard card!... â†’ Ù‡Ù†Ø§ Ø¨Ø·Ø§Ù‚Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ!...
INFO:shared_utils:ðŸ”„ Translating Adaptive Card to Arabic...
INFO:shared_utils:âœ… Adaptive Card translated to Arabic
WARNING:shared_utils:Failed to save messages to DB: cannot access local variable 'json' where it is not associated with a value
ERROR:shared_utils:/chat error: cannot access local variable 'json' where it is not associated with a value
Traceback (most recent call last):
  File "C:\Code\RASA V2\app.py", line 745, in chat
    parsed = json.loads(data)
             ^^^^
UnboundLocalError: cannot access local variable 'json' where it is not associated with a value

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Code\RASA V2\app.py", line 749, in chat
    except (json.JSONDecodeError, TypeError):
            ^^^^
UnboundLocalError: cannot access local variable 'json' where it is not associated with a value
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:32:51] "[35m[1mPOST /chat HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:32:54] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d3d5f415 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,094 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,095 | leave-server | INFO | \U0001f50c MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,095 | leave-server | INFO |    Query: Can i take a leave?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,095 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,095 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,095 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,095 | leave-server | INFO |    \u26a0\ufe0f Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,095 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:33:28,096 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Can i take a leave ?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session fa8b3264 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:34:04] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:shared_utils:Translated ARâ†’EN: Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø²Ø©ØŸ... â†’ Can I get a leave of absence?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø²Ø©ØŸ... â†’ Can I get a leave of absence?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2f257b3e for user user-41
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e794ebec for user user
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,689 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,689 | leave-server | INFO | \U0001f50c MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,690 | leave-server | INFO |    Query: Can I get a leave of absence?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,690 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,690 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,690 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,690 | leave-server | INFO |    \u26a0\ufe0f Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,690 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:35:07,690 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Can I get a leave of absence?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session e228e5bc for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Please fill out the leave request form below to ch... -> Ù…Ù† ÙØ¶Ù„Ùƒ Ù…Ù„Ø£ ØµÙŠØºØ© Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ¯ Ø¥Ù…ÙƒØ§Ù†ÙŠ...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Please fill out the leave request form below to ch... â†’ Ù…Ù† ÙØ¶Ù„Ùƒ Ù…Ù„Ø£ ØµÙŠØºØ© Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ¯ Ø¥Ù…ÙƒØ§Ù†ÙŠ...
INFO:shared_utils:ðŸ”„ Translating Adaptive Card to Arabic...
INFO:shared_utils:âœ… Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:35:48] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:35:51] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d22334c6 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:36:25,743 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is Akash's salary?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9f9fd84a for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:37:02] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Translated ARâ†’EN: ÙƒÙ… Ø±Ø§ØªØ¨ Ø£ÙƒØ§Ø´ØŸ... â†’ How much does Akash get paid?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: ÙƒÙ… Ø±Ø§ØªØ¨ Ø£ÙƒØ§Ø´ØŸ... â†’ How much does Akash get paid?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a3243abb for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:37:37] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'How much does Akash get paid?' [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: How much does Akash get paid?... [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00, 122.63it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:37:38] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=session123]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "How much does Akash get paid?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 54f5bd43 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: The provided context does not mention Akash's paym... -> Ø§Ù„ ÙŠØ³Øª Ù„Ø§ ÙŠØ°ÙƒØ± Ø¯ÙØ¹ Ø£. ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ù‘Ù‡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: The provided context does not mention Akash's paym... â†’ Ø§Ù„ ÙŠØ³Øª Ù„Ø§ ÙŠØ°ÙƒØ± Ø¯ÙØ¹ Ø£. ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ù‘Ù‡ Ù…Ø¬Ù…ÙˆØ¹Ø© Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:38:15] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:38:18] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 19 chars -> 19 chars
WARNING:architecture.pre_router_guard:ðŸ›¡ï¸ Guard blocked: category=weapons, pattern matched
WARNING:shared_utils:Blocked dangerous input (pre-router guard): category=weapons
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:38:20] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 16 chars -> 16 chars
WARNING:architecture.pre_router_guard:ðŸ›¡ï¸ Guard blocked (AR): category=weapons
WARNING:shared_utils:Blocked dangerous input (pre-router guard): category=weapons
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:38:23] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:38:26] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 41 chars -> 41 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 469f8280 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:38:59] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four categories of products?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four categories of products?... [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What are the four categories of products?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 292fc426 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:39:38] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 28 chars -> 28 chars
INFO:shared_utils:Translated ARâ†’EN: Ù…Ø§ Ù‡ÙŠ ÙØ¦Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø¹ ØŸ... â†’ What are the four product categories?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù…Ø§ Ù‡ÙŠ ÙØ¦Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø¹ ØŸ... â†’ What are the four product categories?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2c926ed4 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:40:11] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four product categories?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four product categories?... [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What are the four product categories?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 41ab7b04 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Error processing SQL query: connection to server a... -> ØªØ®Ø·ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© : Ø±ÙØ¶ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ 127.0.0.1ØŒ. ...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Error processing SQL query: connection to server a... â†’ ØªØ®Ø·ÙŠ Ù…Ø¹Ø§Ù„Ø¬Ø© : Ø±ÙØ¶ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ 127.0.0.1ØŒ. ...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:40:50] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:40:54] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session fc6dc145 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:41:27] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who gave the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who gave the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00, 174.81it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Who gave the budget speech?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 78586e2e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:42:04] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:shared_utils:Translated ARâ†’EN: Ù…Ù† Ø£Ù„Ù‚Ù‰ Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©ØŸ... â†’ Who delivered the budget speech?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù…Ù† Ø£Ù„Ù‚Ù‰ Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©ØŸ... â†’ Who delivered the budget speech?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f23db0ca for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:42:37] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who delivered the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who delivered the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00, 186.07it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:42:38] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Who delivered the budget speech?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7816be7a for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Nirmala Sitharaman, the Minister of Finance, deliv... -> Ù†ÙŠØ±Ù…Ù„Ø§ Ø³ÙŠØªØ§Ø±Ø§Ù…Ø§Ù†ØŒ ÙˆØ²ÙŠØ±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©ØŒ Ø£Ù„Ù‚Øª Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Nirmala Sitharaman, the Minister of Finance, deliv... â†’ Ù†ÙŠØ±Ù…Ù„Ø§ Ø³ÙŠØªØ§Ø±Ø§Ù…Ø§Ù†ØŒ ÙˆØ²ÙŠØ±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©ØŒ Ø£Ù„Ù‚Øª Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:15] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:18] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:21] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:23] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:25] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:27] "GET / HTTP/1.1" 200 -
INFO:shared_utils:ðŸ“¤ File uploaded: test_file.txt -> uploads\20260102_224329_test_file.txt
INFO:shared_utils:ðŸ”„ Processing document: test_file.txt
INFO:shared_utils:ðŸ“„ Processing document: uploads\20260102_224329_test_file.txt
INFO:shared_utils:ðŸ“„ Extracted text length: 78 chars
INFO:shared_utils:ðŸ“„ Arabic characters in extracted text: 0
INFO:shared_utils:ðŸ“„ Detected language: en, using: en
INFO:shared_utils:âœ… Document analysis complete: 72 chars
INFO:shared_utils:âœ… File processed: test_file.txt (result length: 72)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:29] "POST /upload HTTP/1.1" 200 -
INFO:shared_utils:ðŸ“¤ File uploaded: budget_speech.pdf -> uploads\20260102_224331_budget_speech.pdf
INFO:shared_utils:ðŸ”„ Processing document: budget_speech.pdf
INFO:shared_utils:ðŸ“„ Processing document: uploads\20260102_224331_budget_speech.pdf
WARNING:shared_utils:âš ï¸ PyMuPDF not installed, falling back to PyPDF2
INFO:shared_utils:ðŸ“„ PDF has 60 pages (using PyPDF2)
INFO:shared_utils:ðŸ“„ PyPDF2 extracted: 93150 chars from 60 pages
INFO:shared_utils:ðŸ“„ Extracted text length: 93137 chars
INFO:shared_utils:ðŸ“„ Arabic characters in extracted text: 0
INFO:shared_utils:ðŸ“„ Detected language: en, using: en
INFO:shared_utils:âœ… Document analysis complete: 382 chars
INFO:shared_utils:âœ… File processed: budget_speech.pdf (result length: 381)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:43:33] "POST /upload HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\app.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
\u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:â„¹ï¸ Langfuse not available - telemetry disabled
INFO:core.error_handlers:âœ… Centralized error handlers registered
INFO:shared_utils:âš ï¸ Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:âœ… Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:âœ… CSRF protection enabled
INFO:shared_utils:âœ… Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:âœ… Database tables created
INFO:architecture.hybrid_router:âœ… HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:âœ… Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:âœ… ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:âœ… ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:âœ… WebSearchTool: Tavily API configured
INFO:architecture.registry:âœ… ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:ðŸ“¦ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:ðŸš€ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: âœ… Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  ðŸ“¦ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  ðŸ“¦ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  ðŸ“¦ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  ðŸ“¦ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  ðŸ“¦ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  ðŸ“¦ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  ðŸ“¦ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  ðŸ“¦ weather: Get current weather information for a city includi...
INFO:shared_utils:  ðŸ“¦ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:â³ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:ðŸ›¡ï¸ Global Input Guard initialized
INFO:architecture.router:âœ… LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:ðŸ“‹ Loaded 5 MCP server configs
INFO:architecture.mcp_client:âœ… Connected to MCP server 'leave' via stdio (PID: 56468)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:44:40,184 | architecture.telemetry | WARNING | \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:44:40,184 | architecture.telemetry | INFO | \u2139\ufe0f Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:44:40,234 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:44:40,234 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:44:40,234 | architecture.form_registry | INFO | \U0001f504 Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:44:40,234 | architecture.form_registry | INFO | \u2705 Default form handlers registered
INFO:architecture.mcp_client:âœ… MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:44:40,332 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'brochure' via stdio (PID: 54520)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:âœ… MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:44:40,884 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'knowledgebase' via stdio (PID: 56212)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:44:44] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:44:49] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'sql' via stdio (PID: 58200)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:44:50] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:44:51] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'secure_rag' via stdio (PID: 54432)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:44:51,651 - secure_rag_server - INFO - \u2705 Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:44:51,653 - secure_rag_server - INFO - \U0001f680 Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:44:51,655 - secure_rag_server - INFO - \U0001f4e1 Server ready
INFO:architecture.mcp_client:âœ… MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:44:51,660 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:âœ… Connected to 5/5 MCP servers
INFO:architecture.router:ðŸ”Œ MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:ðŸ Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:ðŸ”Œ MCP initialized: 5 servers, 17 tools
INFO:shared_utils:âœ… HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\plugins\\weather_tool.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
\u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:â„¹ï¸ Langfuse not available - telemetry disabled
INFO:core.error_handlers:âœ… Centralized error handlers registered
INFO:shared_utils:âš ï¸ Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:âœ… Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:âœ… CSRF protection enabled
INFO:shared_utils:âœ… Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:âœ… Database tables created
INFO:architecture.hybrid_router:âœ… HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:âœ… Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:âœ… ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:âœ… ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:âœ… WebSearchTool: Tavily API configured
INFO:architecture.registry:âœ… ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:ðŸ“¦ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:ðŸš€ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: âœ… Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  ðŸ“¦ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  ðŸ“¦ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  ðŸ“¦ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  ðŸ“¦ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  ðŸ“¦ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  ðŸ“¦ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  ðŸ“¦ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  ðŸ“¦ weather: Get current weather information for a city includi...
INFO:shared_utils:  ðŸ“¦ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:â³ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:ðŸ›¡ï¸ Global Input Guard initialized
INFO:architecture.router:âœ… LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:ðŸ“‹ Loaded 5 MCP server configs
INFO:architecture.mcp_client:âœ… Connected to MCP server 'leave' via stdio (PID: 46796)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:45:29,163 | architecture.telemetry | WARNING | \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:45:29,163 | architecture.telemetry | INFO | \u2139\ufe0f Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:45:29,207 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:45:29,207 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:45:29,207 | architecture.form_registry | INFO | \U0001f504 Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:45:29,207 | architecture.form_registry | INFO | \u2705 Default form handlers registered
INFO:architecture.mcp_client:âœ… MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 22:45:29,257 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'brochure' via stdio (PID: 53116)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:âœ… MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 22:45:29,842 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'knowledgebase' via stdio (PID: 38500)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:45:33] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loading existing embeddings from data\vectordb\embeddings.pkl
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Loaded 277 document chunks
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Vector database initialized successfully
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 22:45:38] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-knowledgebase] environment variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-knowledgebase] variables.
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-knowledgebase] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-knowledgebase] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-knowledgebase] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-knowledgebase] See README for more details:
INFO:architecture.mcp_client:[MCP-knowledgebase] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-knowledgebase] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (model:
INFO:architecture.mcp_client:[MCP-knowledgebase] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     ChartRenderer initialized visualization_tool.py:91
INFO:architecture.mcp_client:[MCP-knowledgebase] (charts_dir: charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     SmartVisualizationTool   visualization_tool.py:639
INFO:architecture.mcp_client:[MCP-knowledgebase] initialized (charts_dir:
INFO:architecture.mcp_client:[MCP-knowledgebase] charts\kb)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 SmartVisualizationTool initialized (auto-detect charts)
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Starting Knowledge Base MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'knowledgebase'
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'knowledgebase': ['knowledgebase_query', 'knowledgebase_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'sql' via stdio (PID: 53032)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:45:39] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 22:45:40] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'secure_rag' via stdio (PID: 48752)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:45:40,973 - secure_rag_server - INFO - \u2705 Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:45:40,974 - secure_rag_server - INFO - \U0001f680 Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:45:40,977 - secure_rag_server - INFO - \U0001f4e1 Server ready
INFO:architecture.mcp_client:âœ… MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:45:40,982 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:âœ… Connected to 5/5 MCP servers
INFO:architecture.router:ðŸ”Œ MCP Host connected: 5 servers, 17 tools
INFO:architecture.router:ðŸ Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:ðŸ”Œ MCP initialized: 5 servers, 17 tools
INFO:shared_utils:âœ… HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:45:41] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:45:52] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:45:55] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:45:57] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:45:59] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:46:01] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:46:03] "POST /clear_chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:46:05] "GET /api/models HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:46:07] "POST /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:46:09] "GET /api/model_preference HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:46:11] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 14 chars -> 14 chars
WARNING:shared_utils:âš ï¸ Redis connection failed: Timeout connecting to server. Using in-memory cache only.
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0245eb4f for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:botocore.credentials:Found credentials in environment variables.
INFO:botocore.tokens:Found token in environment variables.
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:47:15,087 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:47:15,304 - secure_rag_server - INFO - \U0001f680 SecureRAGPipeline initialized
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:47:15,465 - botocore.credentials - INFO - Found credentials in environment variables.
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:47:15,510 - botocore.tokens - INFO - Found token in environment variables.
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is a Dog?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 63360290 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:47:53] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:shared_utils:Translated ARâ†’EN: Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙ„Ø¨ØŸ... â†’ What is a dog?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù…Ø§ Ù‡Ùˆ Ø§Ù„ÙƒÙ„Ø¨ØŸ... â†’ What is a dog?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9101b9ce for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 22:48:27,571 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is a dog?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8599d313 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: I apologize, but the context does not provide any ... -> Ø£Ù†Ø§ Ø£Ø³ØªØºÙØ±ØŒ Ù„ÙƒÙ† Ø§Ù„Ø³ÙŠØ§Ù‚ Ù„Ø§ ÙŠÙˆÙÙ‘Ø± Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ÙƒÙ„...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: I apologize, but the context does not provide any ... â†’ Ø£Ù†Ø§ Ø£Ø³ØªØºÙØ±ØŒ Ù„ÙƒÙ† Ø§Ù„Ø³ÙŠØ§Ù‚ Ù„Ø§ ÙŠÙˆÙÙ‘Ø± Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¹Ù† Ø§Ù„ÙƒÙ„...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:49:05] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:49:08] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 44 chars -> 44 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 241f8009 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Bangalore, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is the weather in bangalore like today?"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session df4daeb9 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:50:19] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 29 chars -> 29 chars
INFO:shared_utils:Translated ARâ†’EN: ÙƒÙŠÙ Ù‡Ùˆ Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ Ø§Ù„ÙŠÙˆÙ…ØŸ... â†’ How is the weather in Riyadh today?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: ÙƒÙŠÙ Ù‡Ùˆ Ø§Ù„Ø·Ù‚Ø³ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ Ø§Ù„ÙŠÙˆÙ…ØŸ... â†’ How is the weather in Riyadh today?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 67b765c0 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.weather_tool:Weather request: city=Riyadh, when=None, parsed_offset=0, when_text=current
INFO:architecture.router:Formatting response for tool: weather
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "How is the weather in Riyadh today?"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: weather[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f8a0b7d0 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: **Current Weather in Riyadh, SA**

**Temperature:*... -> Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©

Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: 20...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: **Current Weather in Riyadh, SA**

**Temperature:*... â†’ Ø§Ù„Ø·Ù‚Ø³ Ø§Ù„Ø­Ø§Ù„ÙŠ ÙÙŠ Ø§Ù„Ø±ÙŠØ§Ø¶ØŒ Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©

Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©: 20...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:51:31] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:51:34] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 220327d3 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.contact_form_tool:ðŸ“‹ Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: contact_form
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b76c87cc for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:52:45] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø§Ø¬Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ... â†’ Collect my info...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 01f2735b for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
WARNING:plugins.contact_form_tool:âš ï¸ Redis unavailable for contact_form; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 56fde8d7 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: âœ… Got it!

ðŸ“ž What is your **phone number**?... -> Ø­ØµÙ„Øª!

Ù…Ø§ Ù‡Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒØŸ âœ… ðŸ“ž...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: âœ… Got it!

ðŸ“ž What is your **phone number**?... â†’ Ø­ØµÙ„Øª!

Ù…Ø§ Ù‡Ùˆ Ø±Ù‚Ù… Ø§Ù„Ø®Ø§Øµ Ø¨ÙƒØŸ âœ… ðŸ“ž...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:53:57] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:54:00] "POST /clear_chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:54:02] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d04a3f70 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.contact_form_tool:ðŸ“‹ Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: contact_form
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 00882cb9 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:55:13] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f12433f1 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 401353e3 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:56:21] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 37eda457 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1b92e87a for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:57:29] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f2fbc8ae for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Ended sticky context for: contact_form (completed)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c053591d for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:58:37] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9ba93b7f for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 692ecf5c for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 22:59:48] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø§Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ... â†’ Show my info...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 7030b725 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1327ee41 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ðŸ“‡ Here's your contact information, Test User!... -> Ù‡Ù†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! ðŸ“‡...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: ðŸ“‡ Here's your contact information, Test User!... â†’ Ù‡Ù†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! ðŸ“‡...
INFO:shared_utils:ðŸ”„ Translating Adaptive Card to Arabic...
INFO:shared_utils:âœ… Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:01:01] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:01:04] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 17 chars -> 17 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8fc64fc2 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.survey_tool:ðŸ“‹ Starting survey for user-41, topic: conversation feedback
INFO:plugins.survey_tool:ðŸ“‹ Generating questions - topic: conversation feedback, history length: 0
WARNING:plugins.survey_tool:No conversation history provided for survey question generation
WARNING:plugins.survey_tool:Question generation failed: Expecting value: line 1 column 1 (char 0)
WARNING:plugins.survey_tool:âš ï¸ Redis unavailable for survey; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.router:Formatting response for tool: survey
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: survey
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: survey
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Generate a survey"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: survey[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a1b48fc8 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:02:20] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ Ø§Ø³ØªØ¨ÙŠØ§Ù†Ø§... â†’ Generate a survey...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session a72d668f for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: survey
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 981fb201 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: âœ… Got it!

**Question 2/3:** How would you rate yo... -> Ø­ØµÙ„Øª!

23: Ù…Ø§ Ù‡Ùˆ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø§Ù„Ø¹Ø§Ù…ØŸ (1-5) âœ…...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: âœ… Got it!

**Question 2/3:** How would you rate yo... â†’ Ø­ØµÙ„Øª!

23: Ù…Ø§ Ù‡Ùˆ ØªÙ‚ÙŠÙŠÙ…Ùƒ Ø§Ù„Ø¹Ø§Ù…ØŸ (1-5) âœ…...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:03:28] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:03:31] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 30 chars -> 30 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 47868013 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.router:Formatting response for tool: news
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Give me top headlines about AI"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 01219255 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:04:45] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 38 chars -> 38 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ø¹Ø·Ù†ÙŠ Ø£Ù‡Ù… Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø­ÙˆÙ„ Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ... â†’ Give me top headlines about AI...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5b907ae4 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.router:Formatting response for tool: news
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Give me top headlines about AI"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: news[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5b453c1c for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: 1. <a href='https://www.theverge.com/news/844655/g... -> 1. <a href='https://www.theverge.com/news/844655/g...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: 1. <a href='https://www.theverge.com/news/844655/g... â†’ 1. <a href='https://www.theverge.com/news/844655/g...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:06:05] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:06:08] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session dd516729 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:42,808 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:42,809 | brochure-server | INFO | \U0001f50c MCP TOOL: generate_brochure
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:42,809 | brochure-server | INFO |    Topic: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:43,128 | botocore.credentials | INFO | Found credentials in environment variables.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:43,248 | botocore.tokens | INFO | Found token in environment variables.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:43,918 | brochure-server | INFO |    Subject: Coffee
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:43,918 | brochure-server | INFO |    Calling LLM for content...
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:46,104 | brochure-server | INFO |    \u2705 Content generated: The Perfect Brew.
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:47,339 | httpx | INFO | HTTP Request: GET https://www.googleapis.com/customsearch/v1?q=Coffee+farm+in+Brazil&searchType=image&num=5&safe=active&imgType=photo&key=AIzaSyAejUSP2AkyUqIIldlXREFVptSZGzKZuf8&cx=20f183726d9fc4dc4 "HTTP/1.1 200 OK"
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:06:47,340 | brochure-server | INFO |    \U0001f5bc\ufe0f Found valid image for 'Coffee farm in Brazil': https://www.baristahustle.com/wp-content/uploads/2021/11/flat-terrain-in-much-of...
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Create a brochure on Coffee"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: brochure.generate_brochure[0m
  Reason: MCP server: brochure
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ae0d4e61 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:07:24] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 21 chars -> 21 chars
INFO:shared_utils:Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ ÙƒØªÙŠØ¨Ø§ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ©.... â†’ I wrote a book about coffee....
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ ÙƒØªÙŠØ¨Ø§ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ©.... â†’ I wrote a book about coffee....
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6734405b for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.router:Formatting response for tool: chat
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "I wrote a book about coffee."
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: chat[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 06cb72a7 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: **Congratulations on writing a book about coffee!*... -> Ù…Ø¨Ø§Ø±Ùƒ Ø¹Ù„Ù‰ ÙƒØªØ§Ø¨Ø© ÙƒØªØ§Ø¨ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ©!

ÙŠØ¨Ø¯Ùˆ Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: **Congratulations on writing a book about coffee!*... â†’ Ù…Ø¨Ø§Ø±Ùƒ Ø¹Ù„Ù‰ ÙƒØªØ§Ø¨Ø© ÙƒØªØ§Ø¨ Ø¹Ù† Ø§Ù„Ù‚Ù‡ÙˆØ©!

ÙŠØ¨Ø¯Ùˆ Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…ÙˆØ¶...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:08:37] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:08:40] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 211 chars -> 211 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 4791dac8 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:09:30] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top 5 products by sales' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top 5 products by sales... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:09:32] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me customer acquisition metrics' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me customer acquisition metrics... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:09:34] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top performing teams' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top performing teams... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:09:36] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me key product launches' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me key product launches... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Create a quarterly business performance dashboard ..."
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b66e6282 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:10:15] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 187 chars -> 187 chars
INFO:shared_utils:Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ Ù„ÙˆØ­Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠØ© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ØªØ¸Ù‡Ø± Ù†Ù…Ùˆ... â†’ Here is the translation: Create a quarterly dashbo...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø£Ù†Ø´Ø¦ Ù„ÙˆØ­Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠØ© Ù„Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ ØªØ¸Ù‡Ø± Ù†Ù…Ùˆ... â†’ Here is the translation: Create a quarterly dashbo...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b206d5bf for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:11:00] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'Show me top 5 products by sales' [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: Show me top 5 products by sales... [state_id=session123, user=system]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=session123]: chart=None
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:11:02] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'What is the budget allocation for education sector?' [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: What is the budget allocation for education sector?... [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00,  8.84it/s]Batches: 100%|##########| 1/1 [00:00<00:00,  8.82it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:11:03] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=session123]: chart=None
INFO:plugins.weather_tool:Weather request: city=Mumbai, when=None, parsed_offset=0, when_text=current
INFO:plugins.contact_form_tool:ðŸ“‹ Starting contact info collection for user-41
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: contact_form
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Here is the translation: Create a quarterly dashbo..."
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session adc983c7 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Here's your dashboard card!... -> Ù‡Ù†Ø§ Ø¨Ø·Ø§Ù‚Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ!...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Here's your dashboard card!... â†’ Ù‡Ù†Ø§ Ø¨Ø·Ø§Ù‚Ø© Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ!...
INFO:shared_utils:ðŸ”„ Translating Adaptive Card to Arabic...
INFO:shared_utils:âœ… Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:11:41] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:11:44] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1715d2eb for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,515 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,519 | leave-server | INFO | \U0001f50c MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,519 | leave-server | INFO |    Query: Can i take a leave?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,519 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,525 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,526 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,526 | leave-server | INFO |    \u26a0\ufe0f Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,526 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:12:18,526 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Can i take a leave ?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 35ea1a88 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:12:55] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:shared_utils:Translated ARâ†’EN: Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø²Ø©ØŸ... â†’ Can I get a leave of absence?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù‡Ù„ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¥Ø¬Ø§Ø²Ø©ØŸ... â†’ Can I get a leave of absence?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 34b3b369 for user user-41
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0f62a6d6 for user user
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | mcp.server.lowlevel.server | INFO | Processing request of type CallToolRequest
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | INFO | \U0001f50c MCP TOOL: analyze_leave_request
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | INFO |    Query: Can I get a leave of absence?
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | INFO |    Employee ID: 1
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | ERROR | LLM extraction error: name 'asyncio' is not defined
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | INFO |    Extracted entities: {'start_date': None, 'end_date': None, 'leave_type': None, 'duration_days': None, 'confidence': 0.5}
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | INFO |    \u26a0\ufe0f Missing parameters - showing form
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | INFO |    Missing: start date, end date, leave type
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:13:58,540 | leave-server | INFO |    Result type: adaptive_card (pre-filled form)
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Can I get a leave of absence?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: leave.analyze_leave_request[0m
  Reason: MCP server: leave
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 56a4dd73 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Please fill out the leave request form below to ch... -> Ù…Ù† ÙØ¶Ù„Ùƒ Ù…Ù„Ø£ ØµÙŠØºØ© Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ¯ Ø¥Ù…ÙƒØ§Ù†ÙŠ...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Please fill out the leave request form below to ch... â†’ Ù…Ù† ÙØ¶Ù„Ùƒ Ù…Ù„Ø£ ØµÙŠØºØ© Ø·Ù„Ø¨ Ø§Ù„Ø¥Ø¬Ø§Ø²Ø© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„ØªØ­Ø¯ÙŠØ¯ Ø¥Ù…ÙƒØ§Ù†ÙŠ...
INFO:shared_utils:ðŸ”„ Translating Adaptive Card to Arabic...
INFO:shared_utils:âœ… Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:14:39] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:14:42] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 8ed9cf2b for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 23:15:16,975 - mcp.server.lowlevel.server - INFO - Processing request of type CallToolRequest
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What is Akash's salary?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: secure_rag.secure_query[0m
  Reason: MCP server: secure_rag
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f7161a27 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:15:54] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:Translated ARâ†’EN: ÙƒÙ… Ø±Ø§ØªØ¨ Ø£ÙƒØ§Ø´ØŸ... â†’ How much does Akash get paid?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: ÙƒÙ… Ø±Ø§ØªØ¨ Ø£ÙƒØ§Ø´ØŸ... â†’ How much does Akash get paid?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ffe9f110 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:16:28] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'How much does Akash get paid?' [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: How much does Akash get paid?... [state_id=session123]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00, 38.66it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:16:29] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=session123]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "How much does Akash get paid?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session d1174a39 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: The provided context does not mention Akash's paym... -> Ù„Ø§ ÙŠØ°ÙƒØ± Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯ÙØ¹ Ø£ÙƒØ§Ø´. ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ù‘Ù‡ Ù…Ø¬Ù…...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: The provided context does not mention Akash's paym... â†’ Ù„Ø§ ÙŠØ°ÙƒØ± Ø§Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¯ÙØ¹ Ø£ÙƒØ§Ø´. ÙŠØ¨Ø¯Ùˆ Ø£Ù†Ù‘Ù‡ Ù…Ø¬Ù…...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:17:07] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:17:10] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 19 chars -> 19 chars
WARNING:architecture.pre_router_guard:ðŸ›¡ï¸ Guard blocked: category=weapons, pattern matched
WARNING:shared_utils:Blocked dangerous input (pre-router guard): category=weapons
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:17:12] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 16 chars -> 16 chars
WARNING:architecture.pre_router_guard:ðŸ›¡ï¸ Guard blocked (AR): category=weapons
WARNING:shared_utils:Blocked dangerous input (pre-router guard): category=weapons
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:17:14] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:17:17] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 41 chars -> 41 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9c23f646 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:17:50] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four categories of products?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four categories of products?... [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What are the four categories of products?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 34822542 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:18:29] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 28 chars -> 28 chars
INFO:shared_utils:Translated ARâ†’EN: Ù…Ø§ Ù‡ÙŠ ÙØ¦Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø¹ ØŸ... â†’ What are the four product categories?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù…Ø§ Ù‡ÙŠ ÙØ¦Ø§Øª Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø£Ø±Ø¨Ø¹ ØŸ... â†’ What are the four product categories?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 99da213e for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:19:03] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] CallToolRequest
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL query received: 'What are the four product categories?' [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Processing SQL query: What are the four product categories?... [state_id=user-41, user=41]
INFO:architecture.mcp_client:[MCP-sql] [SQL] Error processing query: connection to server at "127.0.0.1", port 55432 failed: Connection refused (0x0000274D/10061)
INFO:architecture.mcp_client:[MCP-sql] Is the server running on that host and accepting TCP/IP connections?
INFO:architecture.mcp_client:[MCP-sql] [SQL] SQL response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "What are the four product categories?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: sql.sql_query[0m
  Reason: MCP server: sql
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 1708590f for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Error processing SQL query: connection to server a... -> Øª Ø³Ø¬Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª: Ø±ÙØ¶ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ 127.0....
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Error processing SQL query: connection to server a... â†’ Øª Ø³Ø¬Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª: Ø±ÙØ¶ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù… Ø¹Ù„Ù‰ 127.0....
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:19:42] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:19:46] "POST /clear_chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 27 chars -> 27 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9c1d1fcd for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:20:19] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who gave the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who gave the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00, 98.64it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Who gave the budget speech?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ca6b7661 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:20:56] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 23 chars -> 23 chars
INFO:shared_utils:Translated ARâ†’EN: Ù…Ù† Ø£Ù„Ù‚Ù‰ Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©ØŸ... â†’ Who delivered the budget speech?...
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ù…Ù† Ø£Ù„Ù‚Ù‰ Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©ØŸ... â†’ Who delivered the budget speech?...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 59d3432f for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:21:30] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-knowledgebase] CallToolRequest
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB query received: 'Who delivered the budget speech?' [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Processing KB query: Who delivered the budget speech?... [state_id=user-41]
INFO:architecture.mcp_client:[MCP-knowledgebase] Batches:   0%|          | 0/1 [00:00<?, ?it/s]Batches: 100%|##########| 1/1 [00:00<00:00, 168.83it/s]
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] \u2705 KB answer generated via bedrock
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:21:31] INFO     \u2705 LLM call succeeded via bedrock llm_utils.py:460
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] Visualization: No chartable data found in result
INFO:architecture.mcp_client:[MCP-knowledgebase] [KB] KB response [state_id=user-41]: chart=None
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Who delivered the budget speech?"
  Intent: nlu_fallback
  â†’ [38;5;39mðŸ”Œ MCP_SERVER: knowledgebase.knowledgebase_query[0m
  Reason: MCP server: knowledgebase
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 9da0580a for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: Nirmala Sitharaman, the Minister of Finance, deliv... -> Ù†ÙŠØ±Ù…Ù„Ø§ Ø³ÙŠØªØ§Ø±Ø§Ù…Ø§Ù†ØŒ ÙˆØ²ÙŠØ±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©ØŒ Ø£Ù„Ù‚Øª Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: Nirmala Sitharaman, the Minister of Finance, deliv... â†’ Ù†ÙŠØ±Ù…Ù„Ø§ Ø³ÙŠØªØ§Ø±Ø§Ù…Ø§Ù†ØŒ ÙˆØ²ÙŠØ±Ø© Ø§Ù„Ù…Ø§Ù„ÙŠØ©ØŒ Ø£Ù„Ù‚Øª Ø®Ø·Ø§Ø¨ Ø§Ù„Ù…ÙŠØ²Ø§Ù†...
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:08] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:11] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:13] "POST /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:16] "[32mGET /auth/login HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:18] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:20] "GET / HTTP/1.1" 200 -
INFO:shared_utils:ðŸ“¤ File uploaded: test_file.txt -> uploads\20260102_232222_test_file.txt
INFO:shared_utils:ðŸ”„ Processing document: test_file.txt
INFO:shared_utils:ðŸ“„ Processing document: uploads\20260102_232222_test_file.txt
INFO:shared_utils:ðŸ“„ Extracted text length: 78 chars
INFO:shared_utils:ðŸ“„ Arabic characters in extracted text: 0
INFO:shared_utils:ðŸ“„ Detected language: en, using: en
INFO:shared_utils:âœ… Document analysis complete: 77 chars
INFO:shared_utils:âœ… File processed: test_file.txt (result length: 77)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:22] "POST /upload HTTP/1.1" 200 -
INFO:shared_utils:ðŸ“¤ File uploaded: budget_speech.pdf -> uploads\20260102_232224_budget_speech.pdf
INFO:shared_utils:ðŸ”„ Processing document: budget_speech.pdf
INFO:shared_utils:ðŸ“„ Processing document: uploads\20260102_232224_budget_speech.pdf
WARNING:shared_utils:âš ï¸ PyMuPDF not installed, falling back to PyPDF2
INFO:shared_utils:ðŸ“„ PDF has 60 pages (using PyPDF2)
INFO:shared_utils:ðŸ“„ PyPDF2 extracted: 93150 chars from 60 pages
INFO:shared_utils:ðŸ“„ Extracted text length: 93137 chars
INFO:shared_utils:ðŸ“„ Arabic characters in extracted text: 0
INFO:shared_utils:ðŸ“„ Detected language: en, using: en
INFO:shared_utils:âœ… Document analysis complete: 347 chars
INFO:shared_utils:âœ… File processed: budget_speech.pdf (result length: 346)
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:22:26] "POST /upload HTTP/1.1" 200 -
INFO:werkzeug: * Detected change in 'C:\\Code\\RASA V2\\app.py', reloading
INFO:werkzeug: * Restarting with stat
C:\Users\siraj\AppData\Local\Programs\Python\Python314\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
  import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
\u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
WARNING:shared_utils:langdetect not installed. Language detection will use LLM only.
INFO:architecture.telemetry:â„¹ï¸ Langfuse not available - telemetry disabled
INFO:core.error_handlers:âœ… Centralized error handlers registered
INFO:shared_utils:âš ï¸ Configuring in-memory rate limiting (POC mode - no Redis)
INFO:shared_utils:âœ… Rate limiting active with in-memory storage (POC mode)
INFO:shared_utils:âœ… CSRF protection enabled
INFO:shared_utils:âœ… Security headers configured (HTTPS=disabled for dev)
INFO:shared_utils:âœ… Database tables created
INFO:architecture.hybrid_router:âœ… HybridRouter initialized (Rasa: enabled)
INFO:shared_utils:âœ… Hybrid Router initialized (Rasa + LLM)
C:\Code\RASA V2\plugins\adaptive_card_tool.py:249: FutureWarning: 

All support for the `google.generativeai` package has ended. It will no longer be receiving 
updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
See README for more details:

https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md

  import google.generativeai as genai
INFO:plugins.chat_tool:âœ… ChatTool: ImageSearchService enabled
INFO:plugins.chat_tool:âœ… ChatTool: Web search fallback enabled (Tavily)
INFO:plugins.web_search_tool:âœ… WebSearchTool: Tavily API configured
INFO:architecture.registry:âœ… ToolRegistry initialized with 9 tools: ['adaptive_card', 'chat', 'contact_form', 'file', 'news', 'survey', 'vector_search', 'weather', 'web_search']
INFO:shared_utils:ðŸ“¦ Loaded 9 tools: adaptive_card, chat, contact_form, file, news, survey, vector_search, weather, web_search
INFO:shared_utils:==================================================
INFO:shared_utils:ðŸš€ LLM MCP Router - Flask Application
INFO:shared_utils:==================================================
INFO:shared_utils:GROQ API Key: âœ… Set
INFO:shared_utils:Tools loaded: 9
INFO:shared_utils:  ðŸ“¦ adaptive_card: Generate custom Adaptive Cards for rich visual dis...
INFO:shared_utils:  ðŸ“¦ chat: General conversation and questions. Use for greeti...
INFO:shared_utils:  ðŸ“¦ contact_form: Collect user contact information through conversat...
INFO:shared_utils:  ðŸ“¦ file: Process uploaded files (images/documents). Support...
INFO:shared_utils:  ðŸ“¦ news: Get latest news headlines or search for news on sp...
INFO:shared_utils:  ðŸ“¦ survey: Generate and conduct conversational surveys. Creat...
INFO:shared_utils:  ðŸ“¦ vector_search: Search through documents and knowledge bases using...
INFO:shared_utils:  ðŸ“¦ weather: Get current weather information for a city includi...
INFO:shared_utils:  ðŸ“¦ web_search: Search the web for current information, news, and ...
INFO:shared_utils:==================================================
INFO:shared_utils:â³ Pre-initializing HybridRouter and MCP servers...
INFO:architecture.router:ðŸ›¡ï¸ Global Input Guard initialized
INFO:architecture.router:âœ… LLMRouter initialized (mode: code-first, providers: ['Bedrock', 'GROQ', 'Gemini'])
INFO:architecture.mcp_host:ðŸ“‹ Loaded 5 MCP server configs
INFO:architecture.mcp_client:âœ… Connected to MCP server 'leave' via stdio (PID: 53148)
INFO:architecture.mcp_client:[MCP-leave] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-leave] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:26:31,063 | architecture.telemetry | WARNING | \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:26:31,064 | architecture.telemetry | INFO | \u2139\ufe0f Langfuse not available - telemetry disabled
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:26:31,163 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_leave_form -> leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:26:31,163 | architecture.form_registry | INFO | \U0001f4cb Registered form handler: /submit_contact_info -> contact
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:26:31,164 | architecture.form_registry | INFO | \U0001f504 Registered follow-up patterns for: leave
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:26:31,164 | architecture.form_registry | INFO | \u2705 Default form handlers registered
INFO:architecture.mcp_client:âœ… MCP session initialized with 'leave'
INFO:architecture.mcp_client:[MCP-leave] 2026-01-02 23:26:31,232 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 6 tools from 'leave': ['analyze_leave_request', 'get_leave_request_card', 'validate_leave', 'get_leave_balance', 'get_leave_types', 'calculate_leave_days']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'brochure' via stdio (PID: 53872)
INFO:architecture.mcp_client:[MCP-brochure] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-brochure] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-brochure] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:âœ… MCP session initialized with 'brochure'
INFO:architecture.mcp_client:[MCP-brochure] 2026-01-02 23:26:31,950 | mcp.server.lowlevel.server | INFO | Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 2 tools from 'brochure': ['generate_brochure', 'get_brochure_template']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'knowledgebase' via stdio (PID: 13672)
INFO:architecture.mcp_client:[MCP-knowledgebase] C:\Code\RASA V2\.venv\Lib\site-packages\langfuse\api\core\pydantic_utilities.py:10: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-knowledgebase] import pydantic.v1 as pydantic_v1  # type: ignore  # nopycln: import
INFO:architecture.mcp_client:[MCP-knowledgebase] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-knowledgebase] [01/02/26 23:26:38] INFO     Use pytorch             SentenceTransformer.py:219
INFO:architecture.mcp_client:[MCP-knowledgebase] device_name: cpu
INFO:architecture.mcp_client:[MCP-knowledgebase] INFO     Load pretrained         SentenceTransformer.py:227
INFO:architecture.mcp_client:[MCP-knowledgebase] SentenceTransformer:
INFO:architecture.mcp_client:[MCP-knowledgebase] sentence-transformers/a
INFO:architecture.mcp_client:[MCP-knowledgebase] ll-MiniLM-L6-v2
ERROR:architecture.mcp_client:â±ï¸ Request initialize timed out after 10.0s (id: aed5e720...)
ERROR:architecture.mcp_client:MCP initialization failed: Request initialize timed out after 10.0s
INFO:architecture.mcp_client:Closed connection to MCP server 'knowledgebase'
INFO:architecture.mcp_client:âœ… Connected to MCP server 'sql' via stdio (PID: 33004)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\.venv\Lib\site-packages\langchain_core\_api\deprecation.py:26: UserWarning: Core Pydantic V1 functionality isn't compatible with Python 3.14 or greater.
INFO:architecture.mcp_client:[MCP-sql] from pydantic.v1.fields import FieldInfo as FieldInfoV1
INFO:architecture.mcp_client:[MCP-sql] \u26a0\ufe0f Langfuse import failed: unable to infer type for attribute "description". Telemetry disabled.
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:26:43] INFO     Found credentials in           credentials.py:1252
INFO:architecture.mcp_client:[MCP-sql] environment variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     Found token in environment           tokens.py:362
INFO:architecture.mcp_client:[MCP-sql] variables.
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 Bedrock runtime client         llm_utils.py:113
INFO:architecture.mcp_client:[MCP-sql] initialized
INFO:architecture.mcp_client:[MCP-sql] INFO     \u2705 GROQ client initialized        llm_utils.py:126
INFO:architecture.mcp_client:[MCP-sql] (model: llama-3.3-70b-versatile)
INFO:architecture.mcp_client:[MCP-sql] C:\Code\RASA V2\architecture\llm_utils.py:178: FutureWarning:
INFO:architecture.mcp_client:[MCP-sql] All support for the `google.generativeai` package has ended. It will no longer be receiving
INFO:architecture.mcp_client:[MCP-sql] updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
INFO:architecture.mcp_client:[MCP-sql] See README for more details:
INFO:architecture.mcp_client:[MCP-sql] https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
INFO:architecture.mcp_client:[MCP-sql] import google.generativeai as genai
INFO:architecture.mcp_client:[MCP-sql] [01/02/26 23:26:44] INFO     \u2705 Google Gemini client           llm_utils.py:181
INFO:architecture.mcp_client:[MCP-sql] initialized (model:
INFO:architecture.mcp_client:[MCP-sql] gemini-2.5-pro)
INFO:architecture.mcp_client:[MCP-sql] [SQL] \u2705 MultiProviderLLM initialized
INFO:architecture.mcp_client:[MCP-sql] [SQL]    LLM Status: {'bedrock': {'available': True, 'model': 'meta.llama3-8b-instruct-v1:0', 'failures': 0}, 'groq': {'available': True, 'model': 'llama-3.3-70b-versatile', 'failures': 0}, 'google': {'available': True, 'model': 'gemini-2.5-pro', 'failures': 0}}
INFO:architecture.mcp_client:[MCP-sql] [SQL] Starting SQL MCP Server (stdio)...
INFO:architecture.mcp_client:[MCP-sql] [SQL] Architecture: Schema-Driven Visualization + Multi-Provider LLM
INFO:architecture.mcp_client:âœ… MCP session initialized with 'sql'
INFO:architecture.mcp_client:[MCP-sql] INFO     Processing request of type           server.py:713
INFO:architecture.mcp_client:[MCP-sql] ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 3 tools from 'sql': ['sql_query', 'sql_schema', 'sql_health']
INFO:architecture.mcp_client:âœ… Connected to MCP server 'secure_rag' via stdio (PID: 33816)
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 23:26:45,280 - secure_rag_server - INFO - \u2705 Secure RAG module loaded
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 23:26:45,281 - secure_rag_server - INFO - \U0001f680 Starting Secure RAG MCP Server...
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 23:26:45,286 - secure_rag_server - INFO - \U0001f4e1 Server ready
INFO:architecture.mcp_client:âœ… MCP session initialized with 'secure_rag'
INFO:architecture.mcp_client:[MCP-secure_rag] 2026-01-02 23:26:45,293 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
INFO:architecture.mcp_client:ðŸ“¦ Discovered 4 tools from 'secure_rag': ['secure_query', 'check_permissions', 'list_users', 'get_stats']
INFO:architecture.mcp_host:âœ… Connected to 4/5 MCP servers
INFO:architecture.router:ðŸ”Œ MCP Host connected: 4 servers, 15 tools
INFO:architecture.router:ðŸ Code executor initialized (unified local + MCP)
INFO:architecture.hybrid_router:ðŸ”Œ MCP initialized: 4 servers, 15 tools
INFO:shared_utils:âœ… HybridRouter and MCP servers pre-initialized!
WARNING:werkzeug: * Debugger is active!
INFO:werkzeug: * Debugger PIN: 130-538-724
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:27:07] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:27:21] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:27:21] "POST /auth/login HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
WARNING:shared_utils:âš ï¸ Redis connection failed: Timeout connecting to server. Using in-memory cache only.
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 817593b8 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:botocore.credentials:Found credentials in environment variables.
INFO:botocore.tokens:Found token in environment variables.
INFO:plugins.contact_form_tool:ðŸ“‹ Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: contact_form
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 819a10b6 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:28:52] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 2b704e87 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
WARNING:plugins.contact_form_tool:âš ï¸ Redis unavailable for contact_form; using in-memory store (Error 22 connecting to localhost:6379. The remote computer refused the network connection.)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b4d20ce0 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:30:02] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cf7e1800 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5611352b for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:31:08] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 12 chars -> 12 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 3f0b9cc0 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Ended sticky context for: contact_form (completed)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5f961c4e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:32:14] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 6475745b for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "???? ????????"
  Intent: nlu_fallback
  â†’ [38;5;208mðŸ”§ PLUGIN: chat[0m
  Reason: Local plugin
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session adbeb875 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:33:23] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:34:50] "GET /auth/login HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:34:50] "POST /auth/login HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 15 chars -> 15 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session f2a30dec for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
INFO:plugins.contact_form_tool:ðŸ“‹ Starting contact info collection for user-41
INFO:architecture.router:Formatting response for tool: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Starting sticky context for: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Started sticky context for: contact_form
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Collect my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session ed3df02e for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:35:59] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 9 chars -> 9 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session fbc76570 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5907cc58 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:37:05] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 10 chars -> 10 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session b1ec6959 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session c7a3a586 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:38:11] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 20 chars -> 20 chars
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 690ccd06 for user user-41
INFO:architecture.hybrid_router:ðŸ“Œ Sticky context follow-up: contact_form
INFO:architecture.hybrid_router:ðŸ“Œ Ended sticky context for: contact_form (completed)
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 0e5c9abe for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:39:17] "POST /chat HTTP/1.1" 200 -
INFO:llm-security:Input sanitized: 13 chars -> 13 chars
INFO:shared_utils:ðŸ”„ Translated ARâ†’EN: Ø§Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙŠ... â†’ Show my info...
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session 5b7caf60 for user user-41
WARNING:architecture.hybrid_router:Rasa parse error: All connection attempts failed
INFO:architecture.hybrid_router:ðŸ” Rasa: nlu_fallback (0.00)
INFO:architecture.hybrid_router:ðŸ¤– Routing to LLM Router
[38;5;45mðŸŽ¯ ROUTING[0m
  Message: "Show my info"
  Intent: nlu_fallback
  â†’ [38;5;141mðŸ CODE_EXECUTION: contact_form[0m
  Reason: LLM generated code to call tools
INFO:architecture.conversation_memory:ConversationMemory initialized. Redis: localhost:6379/0
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:architecture.conversation_memory:Created new session cc55b098 for user user-41
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
WARNING:architecture.conversation_memory:Redis unavailable, using in-memory fallback: Error 22 connecting to localhost:6379. The remote computer refused the network connection.
INFO:shared_utils:Translated EN->AR: ðŸ“‡ Here's your contact information, Test User!... -> Ù‡Ù†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! ðŸ“‡...
INFO:shared_utils:ðŸ”„ Translated ENâ†’AR: ðŸ“‡ Here's your contact information, Test User!... â†’ Ù‡Ù†Ø§ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„ Ø§Ù„Ø®Ø§ØµØ© Ø¨ÙƒØŒ Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±! ðŸ“‡...
INFO:shared_utils:ðŸ”„ Translating Adaptive Card to Arabic...
INFO:shared_utils:âœ… Adaptive Card translated to Arabic
INFO:werkzeug:127.0.0.1 - - [02/Jan/2026 23:40:28] "POST /chat HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Jan/2026 00:14:01] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Jan/2026 00:14:11] "GET /health HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Jan/2026 00:15:31] "[32mGET / HTTP/1.1[0m" 302 -
INFO:werkzeug:127.0.0.1 - - [03/Jan/2026 00:15:31] "GET /auth/login?next=/ HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [03/Jan/2026 00:17:58] "GET /health HTTP/1.1" 200 -
